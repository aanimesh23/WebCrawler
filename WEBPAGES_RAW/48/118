<?xml version='1.1'?>
<!DOCTYPE html
     PUBLIC '-//W3C//DTD XHTML 1.0 Strict//EN'
     'http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en' lang='en'>
<head>
  <title>Allen's Interval Algebra</title>
  <meta name='Author' content='Thomas A. Alspaugh'/>
  <meta name='Description' content="Allen's interval algebra"/>
  <meta http-equiv='content-type' content='text/html; charset=ISO-8859-1'/>
  <meta http-equiv='Content-Style-Type' content='text/css'/>
  <link href='../../alspaugh-uci.css' rel='stylesheet' type='text/css'/>
  <!-- <link href='../alspaugh-uci-cls.css' rel='stylesheet' type='text/css'/> -->
  <style type='text/css'>
    i {  font-size: 1.08em;  }
    img.h16  {  width: auto;  height: 16px;  vertical-align: middle;  }
    img.h24  {  width: auto;  height: 24px;  vertical-align: middle;  }

    table.h2example {  margin-top:  3.1455ex;  }
    /*table.composition {  margin-left: 0;  }*/
    table.composition td, table.composition th {
      padding-left: .12em;  padding-right: .12em;
      font-size: .90em;
    }

    /*  Table of maximal tractable subalgebras  */
    td.mts, th.mts  {  padding: .5ex .5em .5ex .5em;  }
    td.mts  {  text-align: left;   }
    .mts  {  font-weight: normal;  font-family: cursive;  }
    th.num  {  text-align: right;  }  /*  Rule number  */

    /*  Maaximal tractable subalgebra examples  */
    table.mtse td {  font-family: sans-serif;  }

    td.BR    {}   /*  Allen basic relation  */

    td        {  text-align: center;  }
    td.full   {  font-style: italic;  }
    td.concur {  font-style: italic;  }

    td.p      {  font-family: sans-serif;  background-color:  #eef;  }
    td.P      {  font-family: sans-serif;  background-color:  #ccf;  }
    td.d      {  font-family: sans-serif;  background-color:  #fee;  }
    td.D      {  font-family: sans-serif;  background-color:  #fcc;  }
    td.osd    {  font-family: sans-serif;  background-color:  #efe;  }
    td.DSO    {  font-family: sans-serif;  background-color:  #cfc;  }

    td.oFD    {  font-family: sans-serif;  background-color:  #ddf;  }
    td.dfO    {  font-family: sans-serif;  background-color:  #bbf;  }
    td.m      {  font-family: sans-serif;  background-color:  #fdd;  }
    td.M      {  font-family: sans-serif;  background-color:  #fbb;  }
    td.pmosd  {  font-family: sans-serif;  background-color:  #dfd;  }
    td.DSOMP  {  font-family: sans-serif;  background-color:  #bfb;  }

    td.pmoFD  {  font-family: sans-serif;  background-color:  #ffb;  }
    td.dfOMP  {  font-family: sans-serif;  background-color:  #ff8;  }
    td.o      {  font-family: sans-serif;  background-color:  #fbf;  }
    td.O      {  font-family: sans-serif;  background-color:  #f8f;  }
    td.pmo    {  font-family: sans-serif;  background-color:  #bff;  }
    td.OMP    {  font-family: sans-serif;  background-color:  #8ff;  }

    td.s      {  font-family: sans-serif;  background-color:  #edb;  }
    td.S      {  font-family: sans-serif;  background-color:  #eb9;  }
    td.f      {  font-family: sans-serif;  background-color:  #deb;  }
    td.F      {  font-family: sans-serif;  background-color:  #be9;  }
    td.seS    {  font-family: sans-serif;  background-color:  #bed;  }
    td.Fef    {  font-family: sans-serif;  background-color:  #9eb;  }
    td.e      {  font-family: sans-serif;  background-color:  #d9c;  }
    td.concur {  background-color:  #bde;  }
    td.full   {  background-color:  #9be;  }

    @media screen {
      body     {  background: url("img/bg-allen.png") repeat-y;  }
      #TMain   {  margin-left: 10.00em;  }
    }
  </style>
</head>
<body>

<div id='TBg'>

<div id='THeader'>
Allen's Interval Algebra
</div>

<div id='TLinks1' class='Links'> <!-- - - - - - - - - - - - - - - - - - - - -->
<p>  <a class='sc' href='../../index.html'>Home</a>
</p>
<div class='hr'> </div>
<p>  <a href='index.html'>Foundations home</a>
</p>
<div class='hr'> </div>
<p>
<a href='set.html'>Sets</a><br/>
<a href='relation.html'>Relations</a><br/>
<a href='correspondence.html'>Correspondences</a><br/>
<a href='orderedSet.html'>Ordered Sets</a><br/>
<a href='lattice.html'>Lattices</a><br/>
<a href='graph.html'>Graphs</a><br/>
<a href='powerset.html'>Powersets</a><br/>
<a href='binaryString.html'>Binary Strings</a><br/>
<a href='logicConcepts.html'>Logic</a><br/>
<a href='allen.html'>AIA</a><br/><!-- -spell AIA -->
<a href='greek.html'>Greek</a><br/>
</p>
<div class='hr'> </div>
<p>
<a href='glossaryExternal.html'>Glossary</a><br/>
<a href='goodAbstract.html'>Abstracts</a><br/>
<a href='argument.html'>Argument</a><br/>
<a href='ontology.html'>Glossaries</a><br/>
<a href='inquiryCycle.html'>Inquiry Cycle</a><br/>
<a href='hohfeld.html'>Legal Relations</a><br/>
<a href='goodPresentation.html'>Presentations</a><br/>
</p>
<div class='hr'> </div>
<p>
<a href='quickStart.html'>Elicitation</a><br/>
<a href='ontology.html'>Glossaries</a><br/>
<a href='goal.html'>Goals</a><br/>
<a href='istar.html'>i*</a><br/>
<a href='SCR.html'>SCR</a><br/>
<a href='tracing.html'>Tracing</a><br/>
</p>
<div class='hr2'> </div>
<p>
<a href='alloy.html'>Alloy</a><br/>
<a href='msc.html'>MSCs</a><br/>
<a href='regularExpression.html'>Regular Exprs.</a><br/>
</p><!-- -spell MSCs Exprs -->
<div class='hr2'> </div>
<p>
<a href='java-designPattern.html'>Design Patterns</a><br/>
<a href='javadoc.html'>Javadoc</a><br/>
<a href='java-package.html'>Java Packages</a><br/>
<a href='java-type.html'>Java Types</a><br/>
</p>
<div class='hr2'> </div>
<p>
<a href='html.html'>(X)HTML</a><br/>
<a href='xmlSchema.html'>XML Schemas</a><br/>
<a href='xslt.html'>XSLT</a><br/>
</p><!-- -spell XSLT -->
</div>


<!-- No right column -->
<div id='TMain'><!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
<!--xhtml -y -->


<!--spell Beek cpat CWI Gennari Jeavons Jonsson Kautz Kleer Krokhin mkti rtrt -->
<!--spell trcp Vilain -->
<!--spell DS DSO DSOMP DfOMP Eo Ep FDOMP FDseS Fef OMP Sd SdOMP -->
<!--spell de df dfO dfOMP di fi mM moFDseSdfOMP oDF oF oFD oFDseS oFDseSdfO -->
<!--spell oi os osd pF pFsSf pS pmMP pmo pmoDS pmoDs pmoFD pmoFDsSf pmoFDseS -->
<!--spell pmoFDseSdfOMP pmoFd pmodf pmosd ps pseSdfOMP sOMP sS sd sdOMP seS -->
<!--spell seSdfOMP si -->
<!--spell allen ped -->


<p>In 1983 James F. Allen published a paper
[<a href='#Allen1983-mkti'>Allen1983-mkti</a>]
in which he proposed thirteen basic relations between time intervals
that are distinct, exhaustive, and qualitative.&nbsp;
</p>

<ul>
  <li> <span class='bi'>distinct</span> because no pair of definite intervals
    can be related by more than one of the relationships
  </li>

  <li> <span class='bi'>exhaustive</span> because any pair of definite intervals
    are described by one of the relations
  </li>

  <li> <span class='bi'>qualitative</span> (rather than quantitative) because
    no numeric time spans are considered
  </li>

</ul>

<p>These relations and the operations on them
form <i>Allen's interval algebra</i>.&nbsp;
</p>


<h1 id='BasicRelations' title='BasicRelations'>Thirteen basic relations</h1>

<p>Allen's thirteen basic relations are illustrated in Table 1.&nbsp;
This table shows all the possible relations
that two definite intervals can have.&nbsp;
Each one is defined graphically by a diagram relating two definite intervals
a and b, with time running &rarr; from left to right.&nbsp;
For example,
the first diagram shows that
"<i>a</i> precedes <i>b</i>"
means that <i>a</i> ends before <i>b</i> begins,
with a gap separating them;
the second shows that
"<i>a</i> meets <i>b</i>"
means that <i>b</i> ends when <i>a</i> begins.&nbsp;
</p>

<table id='BasicRelationsTable' title='BasicRelationsTable'
  frame='border' rules='none'>
<caption>Table 1.&nbsp; Allen's thirteen basic relations</caption>
<tbody>
<tr>
  <td class='ce'>precedes
  </td>
  <td class='ce'>meets
  </td>
  <td class='ce'>overlaps
  </td>
  <td class='ce'>finished <br/>by
  </td>
  <td class='ce'>contains
  </td>
  <td class='ce'>starts
  </td>
  <td class='ce'>equals
  </td>
  <td class='ce'>started <br/>by
  </td>
  <td class='ce'>during
  </td>
  <td class='ce'>finishes
  </td>
  <td class='ce'>overlap- <br/>ped by
  </td>
  <td class='ce'>met <br/>by
  </td>
  <td class='ce'>preceded <br/>by
  </td>
</tr>
<tr>
  <td class='BR'><img class='h24' src='img/A_p.png' alt='p'/>
  </td>
  <td class='BR'><img class='h24' src='img/A_m.png' alt='m'/>
  </td>
  <td class='BR'><img class='h24' src='img/A_o.png' alt='o'/>
  </td>
  <td class='BR'><img class='h24' src='img/A_fi.png' alt='fi'/>
  </td>
  <td class='BR'><img class='h24' src='img/A_di.png' alt='di'/>
  </td>
  <td class='BR'><img class='h24' src='img/A_s.png' alt='s'/>
  </td>
  <td class='BR'><img class='h24' src='img/A_e.png' alt='e'/>
  </td>
  <td class='BR'><img class='h24' src='img/A_si.png' alt='si'/>
  </td>
  <td class='BR'><img class='h24' src='img/A_d.png' alt='d'/>
  </td>
  <td class='BR'><img class='h24' src='img/A_f.png' alt='f'/>
  </td>
  <td class='BR'><img class='h24' src='img/A_oi.png' alt='oi'/>
  </td>
  <td class='BR'><img class='h24' src='img/A_mi.png' alt='mi'/>
  </td>
  <td class='BR'><img class='h24' src='img/A_pi.png' alt='pi'/>
  </td>
</tr>
<tr>
  <td class='ce ss'>p
  </td>
  <td class='ce ss'>m
  </td>
  <td class='ce ss'>o
  </td>
  <td class='ce ss'>F
  </td>
  <td class='ce ss'>D
  </td>
  <td class='ce ss'>s
  </td>
  <td class='ce ss'>e
  </td>
  <td class='ce ss'>S
  </td>
  <td class='ce ss'>d
  </td>
  <td class='ce ss'>f
  </td>
  <td class='ce ss'>O
  </td>
  <td class='ce ss'>M
  </td>
  <td class='ce ss'>P
  </td>
</tr>
</tbody>
</table>

<p>
The basic relations are listed in Table 1 sorted by
the degree to which <i>a</i> begins before <i>b</i>
and then within that by
the degree to which <i>a</i> ends before <i>b</i>.&nbsp;
We will commonly list them in this order (<span class='ss'>pmoFDseSdfOMP</span>),
as it makes the relations easier to remember
and simplifies comparison of general relations.&nbsp;
</p>

<p>
Six pairs of the relations are converses.&nbsp;
For example,
the converse of
"<i>a</i> precedes <i>b</i>"
is
"<i>b</i> preceded by <i>a</i>";
whenever the first relation is true,
its converse is true also.&nbsp;
Table 2 lists the relations with each one beside its converse.&nbsp;
The thirteenth, "equals", is its own converse.&nbsp;
Each pair of converse relation symbols
consists of the lowercase and uppercase of the same letter
(e.g. <span class='ss'>p</span> and <span class='ss'>P</span>;
the uppercase letters represent the relations Allen defined as converses).&nbsp;
</p>

<table frame='border' rules='groups'>
<caption>Table 2.&nbsp; Converses of Allen's basic temporal relations</caption>
<colgroup span='2'/>
<colgroup span='2'/>
<thead>
<tr>
  <th colspan='2'>Relation
  </th>
  <th colspan='2'>Converse
  </th>
</tr>
</thead>
<tbody>
<tr>
  <td class='ce'>precedes
  </td>
  <td class='ce'><span class='ss'>(p)</span>
  </td>
  <td class='ce'><span class='ss'>(P)</span>
  </td>
  <td class='ce'>preceded by
  </td>
</tr>
</tbody>
<tbody>
<tr>
  <td class='ce'>meets
  </td>
  <td class='ce'><span class='ss'>(m)</span>
  </td>
  <td class='ce'><span class='ss'>(M)</span>
  </td>
  <td class='ce'>met by
  </td>
</tr>
</tbody>
<tbody>
<tr>
  <td class='ce'>overlaps
  </td>
  <td class='ce'><span class='ss'>(o)</span>
  </td>
  <td class='ce'><span class='ss'>(O)</span>
  </td>
  <td class='ce'>overlapped by
  </td>
</tr>
</tbody>
<tbody>
<tr>
  <td class='ce'>finished by
  </td>
  <td class='ce'><span class='ss'>(F)</span>
  </td>
  <td class='ce'><span class='ss'>(f)</span>
  </td>
  <td class='ce'>finishes
  </td>
</tr>
</tbody>
<tbody>
<tr>
  <td class='ce'>contains
  </td>
  <td class='ce'><span class='ss'>(D)</span>
  </td>
  <td class='ce'><span class='ss'>(d)</span>
  </td>
  <td class='ce'>during
  </td>
</tr>
</tbody>
<tbody>
<tr>
  <td class='ce'>starts
  </td>
  <td class='ce'><span class='ss'>(s)</span>
  </td>
  <td class='ce'><span class='ss'>(S)</span>
  </td>
  <td class='ce'>started by
  </td>
</tr>
</tbody>
<tbody>
<tr>
  <td colspan='4' class='ce'>equals <span class='ss'>(e)</span>
  </td>
</tr>
</tbody>
</table>


<h1 id='Relations' title='Relations'>8192 general relations</h1>

<table id='TurnOnTheLight' title='TurnOnTheLight' frame='border' rules='groups' class='FR' style='margin-top:0;  margin-left: 1em;'>
<caption>Table 3.&nbsp; Example "Turn on the light"
</caption>
<colgroup/><colgroup span='2'/><colgroup/>
<tbody>
<tr>
  <td><i>a</i>
  </td>
  <td colspan='2'><span class='ss'>(pmMP)</span>
  </td>
  <td><i>b</i>
  </td>
</tr>
</tbody>
<tbody>
<tr>
  <td rowspan='4'>"John was <br/>in the room"
  </td>
  <td><span class='ss'>p</span>
  </td>
  <td><img class='h24' src='img/A_p.png' alt='p'/>
  </td>
  <td rowspan='4'>"I touched the <br/>light switch"
  </td>
</tr>
<tr>
  <td><span class='ss'>m</span>
  </td>
  <td><img class='h24' src='img/A_m.png' alt='m'/>
  </td>
</tr>
<tr>
  <td><span class='ss'>M</span>
  </td>
  <td><img class='h24' src='img/A_mi.png' alt='mi'/>
  </td>
</tr>
<tr>
  <td><span class='ss'>P</span>
  </td>
  <td><img class='h24' src='img/A_pi.png' alt='pi'/>
  </td>
</tr>
</tbody>
<tbody>
<tr>
  <td><i>b</i>
  </td>
  <td colspan='2'><span class='ss'>(mo)</span>
  </td>
  <td><i>c</i>
  </td>
</tr>
</tbody>
<tbody>
<tr>
  <td rowspan='2'>"I touched the <br/>light switch"
  </td>
  <td><span class='ss'>m</span>
  </td>
  <td><img class='h24' src='img/A_m-bc.png' alt='m-bc'/>
  </td>
  <td rowspan='2'>"The light <br/>was on"
  </td>
</tr>
<tr>
  <td><span class='ss'>o</span>
  </td>
  <td><img class='h24' src='img/A_o-bc.png' alt='o-bc'/>
  </td>
</tr>
</tbody>
</table>

<p>The basic relations describe relations between definite intervals.&nbsp;
Indefinite intervals whose exact relation may be uncertain are described by
a set of all the basic relations that may apply.&nbsp;
We call such a set of basic relations a general Allen relation,
or just an Allen relation.&nbsp;
</p>

<p>
For example,
"John was not in the room when I touched the switch to turn on the light"
[<a href='#Allen1983-mkti'>Allen1983-mkti</a> p.837].&nbsp;
Let
</p>

<ul>
  <li><i>a</i> be the time John was in the room,
  </li>
  <li><i>b</i> be the time I touched the light switch,
and
  </li>
  <li><i>c</i> be the time the light was on.&nbsp;
  </li>
</ul>

<p>
Then we can say <i>a</i><span class='ss'>(pmMP)</span><i>b</i>,
that is, <i>a</i> precedes, meets, is met by, or is preceded by <i>b</i>;
and <i>b</i><span class='ss'>(mo)</span><i>c</i>,
that is, <i>b</i> meets or overlaps <i>c</i>.&nbsp;
Table 3 shows these relations.&nbsp;
</p>

<p>There is a general relation
for every combination of the thirteen basic relations:&nbsp;
2<sup>13</sup> or 8192 of them.&nbsp;
Each of the basic relations is a relation, of course,
as are all their combinations.&nbsp;
The full relation <span class='ss'>(pmoFDseSdfOMP)</span>
holds between two intervals about whom nothing is known.&nbsp;
The empty relation <span class='ss'>()</span> has no meaning
in terms of relations between actual intervals,
but is the result of some operations on interval relations
and is needed for subalgebras of Allen's interval algebra
(discussed below).&nbsp;
</p>


<h1 id='Operations' title='Operations' style='clear:both;'>Operations on relations</h1>


<table frame='border' rules='groups' class='FR h2example'>
<thead>
<tr>
  <th>Converse examples
  </th>
</tr>
</thead>
<tbody>
<tr>
  <td>~(p) = (moFDseSdfOMP)
  </td>
</tr>
<tr>
  <td>~(pmoFD) = (seSdfOMP)
  </td>
</tr>
<tr>
  <td>~() = (pmoFDseSdfOMP)
  </td>
</tr>
</tbody>
</table>

<h2 id='Complement' title='Complement'>Complement</h2>

<p>The complement <i>~r</i> of a relation <i>r</i>
is the relation consisting of all basic relations not in <i>r</i>.&nbsp;
</p>

<p>From the definition of complement,
we see that the converse operation is its own inverse;
for every relation <i>r</i>,
</p>
<div class='eqn'> ~(~<i>r</i>) = <i>r</i> </div>


<table frame='border' rules='groups' class='FR h2example' style='clear: right;'>
<thead>
<tr>
  <th>Composition examples
  </th>
</tr>
</thead>
<tbody>
<tr>
  <td>(m).(m) = (p)
  </td>
</tr>
<tr>
  <td>(pm).(pm) = (p)
  </td>
</tr>
<tr>
  <td>(oFD).(oFDseS) = (pmoFD)
  </td>
</tr>
</tbody>
</table>

<h2 id='Composition' title='Composition'>Composition</h2>

<p>The composition (<i>r.s</i>) of two relations (<i>r</i>) and (<i>s</i>)
is the relation that holds between <i>a</i> and <i>c</i>
if there is a <i>b</i> such that
<i>a</i>(<i>r</i>)<i>b</i> and
<i>b</i>(<i>s</i>)<i>c</i>;
we then write
<i>a</i>(<i>r.s</i>)<i>c</i>.&nbsp;
</p>

<p>Calculation of composition
is not simple like the other operations in this section.&nbsp;
It can be determined by
going back to the definitions of the relations,
and working from there;
or by determining the composition of
each basic relation from <i>r</i> with
each basic relation from <i>s</i>
(using a <a href='#BasicCompositionsTable'>table</a>, perhaps),
and taking the union of the results;
or by using the "<code>allen</code>" command.&nbsp;
</p>

<p>
Composition is not commutative but is both left and right associative,
and distributes over union
(as seen in the procedure for calculating composition using
a table of composition of basic relations).&nbsp;
</p>

<p>
Composition is discussed further
<a href='#CompositionMore'>below</a>.&nbsp;
</p>


<table frame='border' rules='groups' class='FR h2example' style='clear: right;'>
<thead>
<tr>
  <th>Converse examples
  </th>
</tr>
</thead>
<tbody>
<tr>
  <td>!(p) = (P)
  </td>
</tr>
<tr>
  <td>!(pmoFD) = (dfOMP)
  </td>
</tr>
<tr>
  <td>!(mM) = (mM)
  </td>
</tr>
<tr>
  <td>!() = ()
  </td>
</tr>
</tbody>
</table>

<h2 id='Converse' title='Converse'>Converse</h2>

<p>The converse <i>!r</i> of a relation <i>r</i>
is the relation consisting of the converses of all basic relations in <i>r</i>.&nbsp;
</p>

<p>From the definition of converse,
we see that the converse operation is its own inverse;
for every relation <i>r</i>,
</p>
<div class='eqn'> !(!<i>r</i>) = <i>r</i> </div>


<table frame='border' rules='groups' class='FR h2example' style='clear: right;'>
<thead>
<tr>
  <th>Intersection examples
  </th>
</tr>
</thead>
<tbody>
<tr><td>(pmo)^(FDseS) = ()
  </td>
</tr>
<tr><td>(pFsSf)^(pmoFD) = (pF)
  </td>
</tr>
<tr><td>(pmo)^(pmo) = (pmo)
  </td>
</tr>
</tbody>
</table>

<h2 id='intersection' title='intersection'>Intersection</h2>

<p>The intersection (<i>r^s</i>) of two relations (<i>r</i>) and (<i>s</i>)
is the set-theoretic intersection of the two relations;
it is the relation composed of all basic relations that are in both
(<i>r</i>) and (<i>s</i>).&nbsp;
</p>

<p>Intersection is commutative and associative.
</p>


<table frame='border' rules='groups' class='FR h2example' style='clear: right;'>
<thead>
<tr><th>Union examples
  </th>
</tr>
</thead>
<tbody>
<tr><td>(pmo)+(FDseS) = (pmoFDseS)
  </td>
</tr>
<tr><td>(pFsSf)+(pmoFD) = (pmoFDsSf)
  </td>
</tr>
<tr><td>(pmo)+(pmo) = (pmo)
  </td>
</tr>
</tbody>
</table>

<h2 id='union' title='union'>Union</h2>

<p>The intersection (<i>r+s</i>) of two relations (<i>r</i>) and (<i>s</i>)
is the set-theoretic intersection of the two relations;
it is the relation composed of all basic relations that are in either
(<i>r</i>) and (<i>s</i>).&nbsp;
</p>

<p>Union is commutative and associative.
</p>


<h1 id='CompositionMore' title='CompositionMore'>The composition operation</h1>

<p>Table 4a gives the composition of any two basic relations.&nbsp;
Such a table can be used in calculating general compositions by hand,
but is also interesting in its own right.&nbsp;
There are striking patterns of partial symmetry in the
distribution of the results,
here highlighted by giving each result value
its own background color.&nbsp;
Out of the 8192 relations in the interval algebra,
only 27 appear as compositions of basic relations,
and each of those comprises either 1, 3, 5,
9 (<i>concur</i>) or all 13 (<i>full</i>) basic relations.&nbsp;
</p>

<table id='BasicCompositionsTable' title='BasicCompositionsTable' frame='border' rules='all' class='composition'>
<caption>Table 4a.&nbsp; Composition of basic interval relations
</caption>
<tbody>
<tr>
  <th>.
  </th>
  <th>p
  </th>
  <th>m
  </th>
  <th>o
  </th>
  <th>F
  </th>
  <th>D
  </th>
  <th>s
  </th>
  <th style='padding:0 1.7em 0 1.7em'>e
  </th>
  <th>S
  </th>
  <th>d
  </th>
  <th>f
  </th>
  <th>O
  </th>
  <th>M
  </th>
  <th>P
  </th>
</tr>
<tr>
  <th>p
  </th>
  <td class='p'>(p)
  </td>
  <td class='p'>(p)
  </td>
  <td class='p'>(p)
  </td>
  <td class='p'>(p)
  </td>
  <td class='p'>(p)
  </td>
  <td class='p'>(p)
  </td>
  <td class='p'>(p)
  </td>
  <td class='p'>(p)
  </td>
  <td class='pmosd'>(pmosd)
  </td>
  <td class='pmosd'>(pmosd)
  </td>
  <td class='pmosd'>(pmosd)
  </td>
  <td class='pmosd'>(pmosd)
  </td>
  <td class='full'>full
  </td>
</tr>
<tr>
  <th>m
  </th>
  <td class='p'>(p)
  </td>
  <td class='p'>(p)
  </td>
  <td class='p'>(p)
  </td>
  <td class='p'>(p)
  </td>
  <td class='p'>(p)
  </td>
  <td class='m'>(m)
  </td>
  <td class='m'>(m)
  </td>
  <td class='m'>(m)
  </td>
  <td class='osd'>(osd)
  </td>
  <td class='osd'>(osd)
  </td>
  <td class='osd'>(osd)
  </td>
  <td class='Fef'>(Fef)
  </td>
  <td class='DSOMP'>(DSOMP)
  </td>
</tr>
<tr>
  <th>o
  </th>
  <td class='p'>(p)
  </td>
  <td class='p'>(p)
  </td>
  <td class='pmo'>(pmo)
  </td>
  <td class='pmo'>(pmo)
  </td>
  <td class='pmoFD'>(pmoFD)
  </td>
  <td class='o'>(o)
  </td>
  <td class='o'>(o)
  </td>
  <td class='oFD'>(oFD)
  </td>
  <td class='osd'>(osd)
  </td>
  <td class='osd'>(osd)
  </td>
  <td class='concur'>concur
  </td>
  <td class='DSO'>(DSO)
  </td>
  <td class='DSOMP'>(DSOMP)
  </td>
</tr>
<tr>
  <th>F
  </th>
  <td class='p'>(p)
  </td>
  <td class='m'>(m)
  </td>
  <td class='o'>(o)
  </td>
  <td class='F'>(F)
  </td>
  <td class='D'>(D)
  </td>
  <td class='o'>(o)
  </td>
  <td class='F'>(F)
  </td>
  <td class='D'>(D)
  </td>
  <td class='osd'>(osd)
  </td>
  <td class='Fef'>(Fef)
  </td>
  <td class='DSO'>(DSO)
  </td>
  <td class='DSO'>(DSO)
  </td>
  <td class='DSOMP'>(DSOMP)
  </td>
</tr>
<tr>
  <th>D
  </th>
  <td class='pmoFD'>(pmoFD)
  </td>
  <td class='oFD'>(oFD)
  </td>
  <td class='oFD'>(oFD)
  </td>
  <td class='D'>(D)
  </td>
  <td class='D'>(D)
  </td>
  <td class='oFD'>(oFD)
  </td>
  <td class='D'>(D)
  </td>
  <td class='D'>(D)
  </td>
  <td class='concur'>concur
  </td>
  <td class='DSO'>(DSO)
  </td>
  <td class='DSO'>(DSO)
  </td>
  <td class='DSO'>(DSO)
  </td>
  <td class='DSOMP'>(DSOMP)
  </td>
</tr>
<tr>
  <th>s
  </th>
  <td class='p'>(p)
  </td>
  <td class='p'>(p)
  </td>
  <td class='pmo'>(pmo)
  </td>
  <td class='pmo'>(pmo)
  </td>
  <td class='pmoFD'>(pmoFD)
  </td>
  <td class='s'>(s)
  </td>
  <td class='s'>(s)
  </td>
  <td class='seS'>(seS)
  </td>
  <td class='d'>(d)
  </td>
  <td class='d'>(d)
  </td>
  <td class='dfO'>(dfO)
  </td>
  <td class='M'>(M)
  </td>
  <td class='P'>(P)
  </td>
</tr>
<tr>
  <th>e
  </th>
  <td class='p'>(p)
  </td>
  <td class='m'>(m)
  </td>
  <td class='o'>(o)
  </td>
  <td class='F'>(F)
  </td>
  <td class='D'>(D)
  </td>
  <td class='s'>(s)
  </td>
  <td class='e'>(e)
  </td>
  <td class='S'>(S)
  </td>
  <td class='d'>(d)
  </td>
  <td class='f'>(f)
  </td>
  <td class='O'>(O)
  </td>
  <td class='M'>(M)
  </td>
  <td class='P'>(P)
  </td>
</tr>
<tr>
  <th>S
  </th>
  <td class='pmoFD'>(pmoFD)
  </td>
  <td class='oFD'>(oFD)
  </td>
  <td class='oFD'>(oFD)
  </td>
  <td class='D'>(D)
  </td>
  <td class='D'>(D)
  </td>
  <td class='seS'>(seS)
  </td>
  <td class='S'>(S)
  </td>
  <td class='S'>(S)
  </td>
  <td class='dfO'>(dfO)
  </td>
  <td class='O'>(O)
  </td>
  <td class='O'>(O)
  </td>
  <td class='M'>(M)
  </td>
  <td class='P'>(P)
  </td>
</tr>
<tr>
  <th>d
  </th>
  <td class='p'>(p)
  </td>
  <td class='p'>(p)
  </td>
  <td class='pmosd'>(pmosd)
  </td>
  <td class='pmosd'>(pmosd)
  </td>
  <td class='full'>full
  </td>
  <td class='d'>(d)
  </td>
  <td class='d'>(d)
  </td>
  <td class='dfOMP'>(dfOMP)
  </td>
  <td class='d'>(d)
  </td>
  <td class='d'>(d)
  </td>
  <td class='dfOMP'>(dfOMP)
  </td>
  <td class='P'>(P)
  </td>
  <td class='P'>(P)
  </td>
</tr>
<tr>
  <th>f
  </th>
  <td class='p'>(p)
  </td>
  <td class='m'>(m)
  </td>
  <td class='osd'>(osd)
  </td>
  <td class='Fef'>(Fef)
  </td>
  <td class='DSOMP'>(DSOMP)
  </td>
  <td class='d'>(d)
  </td>
  <td class='f'>(f)
  </td>
  <td class='OMP'>(OMP)
  </td>
  <td class='d'>(d)
  </td>
  <td class='f'>(f)
  </td>
  <td class='OMP'>(OMP)
  </td>
  <td class='P'>(P)
  </td>
  <td class='P'>(P)
  </td>
</tr>
<tr>
  <th>O
  </th>
  <td class='pmoFD'>(pmoFD)
  </td>
  <td class='oFD'>(oFD)
  </td>
  <td class='concur'>concur
  </td>
  <td class='DSO'>(DSO)
  </td>
  <td class='DSOMP'>(DSOMP)
  </td>
  <td class='dfO'>(dfO)
  </td>
  <td class='O'>(O)
  </td>
  <td class='OMP'>(OMP)
  </td>
  <td class='dfO'>(dfO)
  </td>
  <td class='O'>(O)
  </td>
  <td class='OMP'>(OMP)
  </td>
  <td class='P'>(P)
  </td>
  <td class='P'>(P)
  </td>
</tr>
<tr>
  <th>M
  </th>
  <td class='pmoFD'>(pmoFD)
  </td>
  <td class='seS'>(seS)
  </td>
  <td class='dfO'>(dfO)
  </td>
  <td class='M'>(M)
  </td>
  <td class='P'>(P)
  </td>
  <td class='dfO'>(dfO)
  </td>
  <td class='M'>(M)
  </td>
  <td class='P'>(P)
  </td>
  <td class='dfO'>(dfO)
  </td>
  <td class='M'>(M)
  </td>
  <td class='P'>(P)
  </td>
  <td class='P'>(P)
  </td>
  <td class='P'>(P)
  </td>
</tr>
<tr>
  <th>P
  </th>
  <td class='full'>full
  </td>
  <td class='dfOMP'>(dfOMP)
  </td>
  <td class='dfOMP'>(dfOMP)
  </td>
  <td class='P'>(P)
  </td>
  <td class='P'>(P)
  </td>
  <td class='dfOMP'>(dfOMP)
  </td>
  <td class='P'>(P)
  </td>
  <td class='P'>(P)
  </td>
  <td class='dfOMP'>(dfOMP)
  </td>
  <td class='P'>(P)
  </td>
  <td class='P'>(P)
  </td>
  <td class='P'>(P)
  </td>
  <td class='P'>(P)
  </td>
</tr>
</tbody>
</table>

<p>In the tables,
<i>full</i>=<span class='ss'>(pmoFDseSdfOMP)</span> and
<i>concur</i>=<span class='ss'>(oFDseSdfO)</span>
in order to conserve space.&nbsp;
</p>

<table frame='border' rules='all'>
<caption>Table 4b.&nbsp; Frequency distribution of
<br/>compositions of basic relations.</caption>
<tbody>
<tr><td>22
      </td>
  <td class='p'>(p)
      </td>
  <td class='P'>(P)
      </td>
  <td colspan='6'>
  </td>
</tr>
<tr><td> 9
      </td>
  <td class='d'>(d)
      </td>
  <td class='D'>(D)
      </td>
  <td colspan='6'>
  </td>
</tr>
<tr><td> 7
      </td>
  <td class='oFD'>(oFD)
      </td>
  <td class='osd'>(osd)
      </td>
  <td class='DSO'>(DSO)
      </td>
  <td class='dfO'>(dfO)
      </td>
  <td colspan='4'>
  </td>
</tr>
<tr><td> 6
      </td>
  <td class='pmoFD'>(pmoFD)
      </td>
  <td class='pmosd'>(pmosd)
      </td>
  <td class='m'>(m)
      </td>
  <td class='DSOMP'>(DSOMP)
      </td>
  <td class='dfOMP'>(dfOMP)
      </td>
  <td class='M'>(M)
      </td>
  <td colspan='2'>
  </td>
</tr>
<tr><td> 5
      </td>
  <td class='o'>(o)
      </td>
  <td class='O'>(O)
      </td>
  <td colspan='6'>
  </td>
</tr>
<tr><td> 4
      </td>
  <td class='s'>(s)
      </td>
  <td class='pmo'>(pmo)
      </td>
  <td class='OMP'>(OMP)
      </td>
  <td colspan='6'>
  </td>
</tr>
<tr><td> 3
      </td>
  <td class='full'>full
      </td>
  <td class='concur'>concur
      </td>
  <td class='F'>(F)
      </td>
  <td class='Fef'>(Fef)
      </td>
  <td class='seS'>(seS)
      </td>
  <td class='S'>(S)
      </td>
  <td class='f'>(f)
  </td>
</tr>
<tr><td> 1
      </td>
  <td class='e'>(e)
      </td>
  <td colspan='7'>
  </td>
</tr>
</tbody>
</table>


<table frame='border' rules='all'>
<caption>Table 4c.&nbsp; Basic relation diagrams for
compositions of basic relations.</caption>
<tbody>
<tr><th>n</th><th>Relation</th><th>Diagrams</th>
</tr>
<tr><td>22
      </td>
  <td class='p'>(p)
      </td>
  <td class='ce'><img class='h16' src='img/A_p.png' alt='p'/>
  </td>
</tr>
<tr><td>22
      </td>
  <td class='P'>(P)
      </td>
  <td class='ce'><img class='h16' src='img/A_pi.png' alt='pi'/>
  </td>
</tr>
<tr><td> 9
      </td>
  <td class='d'>(d)
      </td>
  <td class='ce'><img class='h16' src='img/A_d.png' alt='d'/>
  </td>
</tr>
<tr><td> 9
      </td>
  <td class='D'>(D)
      </td>
  <td class='ce'><img class='h16' src='img/A_di.png' alt='di'/>
  </td>
</tr>
<tr><td> 7
      </td>
  <td class='oFD'>(oFD)
      </td>
  <td class='ce'><img class='h16' src='img/A_o.png' alt='o'/>
                     <img class='h16' src='img/A_fi.png' alt='fi'/>
                     <img class='h16' src='img/A_di.png' alt='di'/>
  </td>
</tr>
<tr><td> 7
      </td>
  <td class='osd'>(osd)
      </td>
  <td class='ce'><img class='h16' src='img/A_o.png' alt='o'/>
                     <img class='h16' src='img/A_s.png' alt='s'/>
                     <img class='h16' src='img/A_d.png' alt='d'/>
  </td>
</tr>
<tr><td> 7
      </td>
  <td class='dfO'>(dfO)
      </td>
  <td class='ce'><img class='h16' src='img/A_d.png' alt='d'/>
                     <img class='h16' src='img/A_f.png' alt='f'/>
                     <img class='h16' src='img/A_oi.png' alt='oi'/>
  </td>
</tr>
<tr><td> 7
      </td>
  <td class='DSO'>(DSO)
      </td>
  <td class='ce'><img class='h16' src='img/A_di.png' alt='di'/>
                     <img class='h16' src='img/A_si.png' alt='si'/>
                     <img class='h16' src='img/A_oi.png' alt='oi'/>
  </td>
</tr>
<tr><td> 6
      </td>
  <td class='pmoFD'>(pmoFD)
      </td>
  <td class='ce'><img class='h16' src='img/A_p.png' alt='p'/>
                     <img class='h16' src='img/A_m.png' alt='m'/>
                     <img class='h16' src='img/A_o.png' alt='o'/>
                     <img class='h16' src='img/A_fi.png' alt='fi'/>
                     <img class='h16' src='img/A_di.png' alt='di'/>
  </td>
</tr>
<tr><td> 6
      </td>
  <td class='pmosd'>(pmosd)
      </td>
  <td class='ce'><img class='h16' src='img/A_p.png' alt='p'/>
                     <img class='h16' src='img/A_m.png' alt='m'/>
                     <img class='h16' src='img/A_o.png' alt='o'/>
                     <img class='h16' src='img/A_s.png' alt='s'/>
                     <img class='h16' src='img/A_d.png' alt='d'/>
  </td>
</tr>
<tr><td> 6
      </td>
  <td class='dfOMP'>(dfOMP)
      </td>
  <td class='ce'><img class='h16' src='img/A_d.png' alt='d'/>
                     <img class='h16' src='img/A_f.png' alt='f'/>
                     <img class='h16' src='img/A_oi.png' alt='oi'/>
                     <img class='h16' src='img/A_mi.png' alt='mi'/>
                     <img class='h16' src='img/A_pi.png' alt='pi'/>
  </td>
</tr>
<tr><td> 6
      </td>
  <td class='DSOMP'>(DSOMP)
      </td>
  <td class='ce'><img class='h16' src='img/A_di.png' alt='di'/>
                     <img class='h16' src='img/A_si.png' alt='si'/>
                     <img class='h16' src='img/A_oi.png' alt='oi'/>
                     <img class='h16' src='img/A_mi.png' alt='mi'/>
                     <img class='h16' src='img/A_pi.png' alt='pi'/>
  </td>
</tr>
<tr><td> 6
      </td>
  <td class='m'>(m)
      </td>
  <td class='ce'><img class='h16' src='img/A_m.png' alt='m'/>
  </td>
</tr>
<tr><td> 6
      </td>
  <td class='M'>(M)
      </td>
  <td class='ce'><img class='h16' src='img/A_mi.png' alt='mi'/>
  </td>
</tr>
<tr><td> 5
      </td>
  <td class='o'>(o)
      </td>
  <td class='ce'><img class='h16' src='img/A_o.png' alt='o'/>
  </td>
</tr>
<tr><td> 5
      </td>
  <td class='O'>(O)
      </td>
  <td class='ce'><img class='h16' src='img/A_oi.png' alt='oi'/>
  </td>
</tr>
<tr><td> 4
      </td>
  <td class='pmo'>(pmo)
      </td>
  <td class='ce'><img class='h16' src='img/A_p.png' alt='p'/>
                     <img class='h16' src='img/A_m.png' alt='m'/>
                     <img class='h16' src='img/A_o.png' alt='o'/>
  </td>
</tr>
<tr><td> 4
      </td>
  <td class='OMP'>(OMP)
      </td>
  <td class='ce'><img class='h16' src='img/A_oi.png' alt='oi'/>
                     <img class='h16' src='img/A_mi.png' alt='mi'/>
                     <img class='h16' src='img/A_pi.png' alt='pi'/>
  </td>
</tr>
<tr><td> 4
      </td>
  <td class='s'>(s)
      </td>
  <td class='ce'><img class='h16' src='img/A_s.png' alt='s'/>
  </td>
</tr>
<tr><td> 3
      </td>
  <td class='S'>(S)
      </td>
  <td class='ce'><img class='h16' src='img/A_si.png' alt='si'/>
  </td>
</tr>
<tr><td> 3
      </td>
  <td class='full'>full
      </td>
  <td class='ce'><img class='h16' src='img/A_p.png' alt='p'/>
                     <img class='h16' src='img/A_m.png' alt='m'/>
                     <img class='h16' src='img/A_o.png' alt='o'/>
                     <img class='h16' src='img/A_fi.png' alt='fi'/>
                     <img class='h16' src='img/A_di.png' alt='di'/>
                     <img class='h16' src='img/A_s.png' alt='s'/>
                     <img class='h16' src='img/A_e.png' alt='e'/>
                     <img class='h16' src='img/A_si.png' alt='si'/>
                     <img class='h16' src='img/A_d.png' alt='d'/>
                     <img class='h16' src='img/A_f.png' alt='f'/>
                     <img class='h16' src='img/A_oi.png' alt='oi'/>
                     <img class='h16' src='img/A_mi.png' alt='mi'/>
                     <img class='h16' src='img/A_pi.png' alt='pi'/>
  </td>
</tr>
<tr><td> 3
      </td>
  <td class='concur'>concur
      </td>
  <td class='ce'><img class='h16' src='img/A_o.png' alt='o'/>
                     <img class='h16' src='img/A_fi.png' alt='fi'/>
                     <img class='h16' src='img/A_di.png' alt='di'/>
                     <img class='h16' src='img/A_s.png' alt='s'/>
                     <img class='h16' src='img/A_e.png' alt='e'/>
                     <img class='h16' src='img/A_si.png' alt='si'/>
                     <img class='h16' src='img/A_d.png' alt='d'/>
                     <img class='h16' src='img/A_f.png' alt='f'/>
                     <img class='h16' src='img/A_oi.png' alt='oi'/>
  </td>
</tr>
<tr><td> 3
      </td>
  <td class='F'>(F)
      </td>
  <td class='ce'><img class='h16' src='img/A_fi.png' alt='fi'/>
  </td>
</tr>
<tr><td> 3
      </td>
  <td class='f'>(f)
      </td>
  <td class='ce'><img class='h16' src='img/A_f.png' alt='f'/>
  </td>
</tr>
<tr><td> 3
      </td>
  <td class='Fef'>(Fef)
      </td>
  <td class='ce'><img class='h16' src='img/A_fi.png' alt='fi'/>
                     <img class='h16' src='img/A_e.png' alt='e'/>
                     <img class='h16' src='img/A_f.png' alt='f'/>
  </td>
</tr>
<tr><td> 3
      </td>
  <td class='seS'>(seS)
      </td>
  <td class='ce'><img class='h16' src='img/A_s.png' alt='s'/>
                     <img class='h16' src='img/A_e.png' alt='e'/>
                     <img class='h16' src='img/A_si.png' alt='si'/>
  </td>
</tr>
<tr><td> 1
      </td>
  <td class='e'>(e)
      </td>
  <td class='ce'><img class='h16' src='img/A_e.png' alt='e'/>
  </td>
</tr>
</tbody>
</table>


<table frame='border' rules='groups' class='FR' style='margin-top:0;  margin-left: 1em;'>
<caption>Table 5.&nbsp; Inference of relation
</caption>
<colgroup/><colgroup span='2'/><colgroup/>
<tbody>
<tr><td><i>a</i></td><td colspan='2'><span class='ss'>(pseSdfOMP)</span></td><td><i>c</i>
  </td>
</tr>
</tbody>
<tbody>
<tr>
  <td rowspan='9'>"John was <br/>in the room"
    </td>
  <td><span class='ss'>p</span> </td><td><img class='h24' src='img/A_p-ac.png'  alt='p'/>
    </td>
  <td rowspan='9'>"The light <br/>was on"
  </td>
</tr>
<tr><td><span class='ss'>s</span> </td><td><img class='h24' src='img/A_s-ac.png'  alt='s'/>
  </td>
</tr>
<tr><td><span class='ss'>e</span> </td><td><img class='h24' src='img/A_e-ac.png'  alt='e'/>
  </td>
</tr>
<tr><td><span class='ss'>S</span> </td><td><img class='h24' src='img/A_si-ac.png' alt='si'/>
  </td>
</tr>
<tr><td><span class='ss'>d</span> </td><td><img class='h24' src='img/A_d-ac.png'  alt='d'/>
  </td>
</tr>
<tr><td><span class='ss'>f</span> </td><td><img class='h24' src='img/A_f-ac.png'  alt='f'/>
  </td>
</tr>
<tr><td><span class='ss'>O</span> </td><td><img class='h24' src='img/A_oi-ac.png' alt='oi'/>
  </td>
</tr>
<tr><td><span class='ss'>M</span> </td><td><img class='h24' src='img/A_mi-ac.png' alt='mi'/>
  </td>
</tr>
<tr><td><span class='ss'>P</span> </td><td><img class='h24' src='img/A_pi-ac.png' alt='pi'/>
  </td>
</tr>
</tbody>
</table>


<h1>Composition and inference</h1>

<p>The composition operation is the basis for
inference among interval relations.&nbsp;
</p>

<p>
Let
<i>a<sub>0</sub></i>(<i>r<sub>1</sub></i>)<i>a<sub>1</sub></i>,
<i>a<sub>1</sub></i>(<i>r<sub>2</sub></i>)<i>a<sub>2</sub></i>,
... ,
<i>a<sub>(n-1)</sub></i>(<i>r<sub>n</sub></i>)<i>a<sub>n</sub></i>
be a chain of relations among intervals
<i>a<sub>0</sub></i> through
<i>a<sub>n</sub></i>.&nbsp;
Then this chain of relations
may be used to infer that
</p>

<div class='eqn'>
<i>a<sub>0</sub></i>(<i>r<sub>1</sub></i>.<i>r<sub>2</sub></i>.&nbsp;...&nbsp;.<i>r<sub>n</sub></i>)<i>a<sub>n</sub></i>
</div>

<p>For a collection of relations on intervals,
we can derive the <i>strongest implied relation</i>
between
<i>a<sub>0</sub></i> and <i>a<sub>n</sub></i>
by examining all possible chains of inference between
<i>a<sub>0</sub></i> and
<i>a<sub>n</sub></i>,
and taking the intersection of all
the resulting compositions of chained relations.&nbsp;
Each chain of inference places a constraint on the relation,
so the inferences are combined by taking their intersection.&nbsp;
</p>

<p>
The number of possible chains rises very quickly
as the number of relations in the collection is increased.&nbsp;
</p>

<p>
A related problem is determining,
for a particular collection of relations on indefinite intervals,
whether
there is any set of specific time values
for the intervals
such that all the relations in the collection are true.&nbsp;
This is the <i>satisfaction</i> problem for Allen's interval algebra,
and it has been shown to be NP-complete
[<a href='#Vilain_Kautz_Beek1989-cpat'>Vilain+Kautz+Beek1989-cpat</a>].&nbsp;
</p>

<div class='figure'>
<img src='img/Unsatisfiable.png' alt='Unsatisfiable graph'/>
<p>
Figure 1.&nbsp; Unsatisfiable relations
</p>
</div>

<p>
A simple example of a collection of relations and intervals
that is not satisfiable
is three intervals <i>a</i>, <i>b</i>, and <i>c</i>
such that
<i>a</i><span class='ss'>(p)</span><i>b</i>,
<i>b</i><span class='ss'>(p)</span><i>c</i>,
and
<i>c</i><span class='ss'>(p)</span><i>a</i>
(each precedes the next, and the last precedes the first).&nbsp;
There are no definite intervals for which all these relations can hold.&nbsp;
We can calculate that this collection is unsatisfiable
by inferring the relation that is implied between
<i>a</i> and <i>c</i>
by the other relations.&nbsp;
The inferred relation through <i>b</i>
is
</p>

<div class='eqn'>
(<i>a</i> to <i>b</i>).(<i>b</i> to <i>c</i>)
=
<span class='ss'>(p).(p)</span>
=
<span class='ss'>(p)</span>
</div>

<p>
We already know that the relation between
as the relation between <i>c</i> and <i>a</i> is <span class='ss'>(P)</span>
(the converse of the relation <span class='ss'>(p)</span>
between <i>a</i> and <i>c</i>).&nbsp;
The strongest inferred relation between <i>c</i> and <i>a</i>
is the intersection of these two relations
</p>

<div class='eqn'>
<span class='ss'>(p)&cap; (P) = &empty;</span>
</div>

<p>
&empty; means that <i>c</i> and <i>a</i> have no relation at all,
which is not possible;
so this collection of intervals and relations is unsatisfiable.&nbsp;
</p>


<h2>Relationships between Allen relations</h2>

<p>
The relationships between Allen relations
are defined in terms of the corresponding sets of basic relations.&nbsp;
</p>

<p>
Two Allen relations are equal
if they contain the same basic relations,
and not equal otherwise.&nbsp;
</p>

<table frame='border' rules='all' class='FR' style='clear: right;'>
<colgroup></colgroup>
<thead>
<tr><th colspan='2'>Weaker/stronger examples
  </th>
</tr>
</thead>
<tbody>
<tr><td><span class='ss'>(pmoFD)</span>&lt;<span class='ss'>(oDF)</span>
      </td>
  <td><span class='ss'>(pmoFD)</span> is weaker than <span class='ss'>(oDF)</span>
  </td>
</tr>
<tr><td><span class='ss'>(pmo)</span>&gt;<span class='ss'>(pmoFD)</span>
      </td>
  <td><span class='ss'>(pmo)</span> is stronger than <span class='ss'>(pmoFD)</span>
  </td>
</tr>
<tr><td><span class='ss'>(oDF)</span>#<span class='ss'>(pmo)</span>
      </td>
  <td><span class='ss'>(oDF)</span> and <span class='ss'>(pmo)</span> are incomparable
  </td>
</tr>
</tbody>
</table>

<p>
The Allen relations form a
<a href='relation.html#order'>partial order</a>;
we say that one relation can be <i>weaker</i> than another,
(or conversely, <i>stronger</i>).&nbsp;
This partial order is
the same as the partial order on the sets of basic Allen relations
defined by &sup;.&nbsp;
Relation <i>A</i> is weaker than relation <i>B</i>
if <i>A</i>&sup;<i>B</i>.&nbsp;
If the sets <i>A</i> and <i>B</i> are not comparable by &sup;,
then the general relations <i>A</i> and <i>B</i> are incomparable also.&nbsp;
</p>

<p>
Because we naturally think of "stronger" as bigger than "weaker",
we write <i>A</i>&lt;<i>B</i> to indicate <i>A</i> is weaker.&nbsp;
Note that <i>A</i>&lt;<i>B</i> is equivalent to <i>A</i>&sup;<i>B</i>;
the &lt; and &sup; point in opposite directions.&nbsp;
</p>


<h1>Eighteen maximal tractable subalgebras</h1>

<table frame='border' rules='all' class='FR mtse' style='clear: right;'>
<colgroup/>
<thead>
<tr><th colspan='2'><span class='mts'>A</span><sub>&equiv;</sub> examples
  </th>
</tr>
</thead>
<tbody>
<tr><th>in</th><th>not in
  </th>
</tr>
</tbody>
<tbody>
<tr><td>()</td><td>(pmo)
  </td>
</tr>
<tr><td>(e)</td><td>(s)
  </td>
</tr>
<tr><td>(seS)</td><td>(sS)
  </td>
</tr>
</tbody>
</table>

<p>Although satisfaction in interval algebra is NP-complete,
there are subsets of the 8192 relations
for which satisfaction is tractable (a polynomial-time algorithm exists).&nbsp;
Once such subsets have been found,
a natural course of action is to
maximize their size by
adding more relations,
stopping just before an intractable subset results;
the result is a tractable subset
that cannot accept another relation without becoming intractable,
and is thus maximal.&nbsp;
It turns out that there are eighteen maximal tractable subsets
of Allen's interval algebra;
every tractable subset of the full algebra
is a subset of one or more of these eighteen
[<a href='#Krokhin_Jeavons_Jonsson2003-rtrt'>Krokhin+Jeavons+Jonsson2003-rtrt</a>].&nbsp;
The maximal tractable subsets are all <i>algebras</i>,
that is, each is closed under
composition, converse, intersection, and union
(a set is <i>closed</i> under an operation if
the result of applying the operation to any element(s) of the set
is another member of the set).&nbsp;
Thus they are usually described as
maximal tractable subalgebras.&nbsp;
</p>
<p>
The eighteen maximal tractable subalgebras are listed in Table 6,
along with rules defining which relations belong to them
and links to the sets of elements in each one.&nbsp;
The most important one is the <span class='cu'>H</span> or Horn subalgebra;
it is the only one of the eighteen that contains all 13 of the basic relations,
and
inference in it can be done using the path consistency algorithm
rather than a more complex one.&nbsp;
</p>

<table frame='border' rules='all' class='FR mtse' style='clear: right;'>
<colgroup/>
<thead>
<tr><th colspan='2'><span class='mts'>A</span><sub>1</sub> examples
  </th>
</tr>
</thead>
<tbody>
<tr><th>in</th><th>not in
  </th>
</tr>
</tbody>
<tbody>
<tr><td>()</td><td>(p)
  </td>
</tr>
<tr><td>(pS)</td><td>(ps)
  </td>
</tr>
<tr><td>(sOMP)</td><td>(SOP)
  </td>
</tr>
</tbody>
</table>

<p>The rules give properties that each member of the subalgebra must have.&nbsp;
For example,
for a relation <i>r</i>
to be a member of the <span class='mts'>A</span><sub>&equiv;</sub> subalgebra,
if <i>r</i> is not the empty relation,
it must contain <span class='ss'>e</span>.&nbsp;
Thus <span class='ss'>()</span>, <span class='ss'>(e)</span>, and
<span class='ss'>(Fef)</span> are members,
but not <span class='ss'>(m)</span> or <span class='ss'>(pmoFD)</span>.&nbsp;
</p>

<p>The rules appear in pairs, labelled + and &minus;.&nbsp;
The relations named in each pair are converses.&nbsp;
The rules that appear as singletons
are those whose relations are their own converses
(like <span class='ss'>()</span> and <span class='ss'>(e)</span>
in the <span class='mts'>A</span><sub>&equiv;</sub> rule).&nbsp;
For example,
for a relation <i>r</i> to be a member of <span class='mts'>A</span><sub>1</sub>,
if <i>r</i> has any basic relations in common with
<span class='ss'>(pmoFD)</span>,
then <i>r</i> must contain <span class='ss'>S</span>.&nbsp;
The converses of
<span class='ss'>(pmoFD)</span> and <span class='ss'>(S)</span> are
<span class='ss'>(dfOMP)</span> and <span class='ss'>(s)</span>, respectively,
and the &minus; rule says that
if <i>r</i> has any basic relations in common with
<span class='ss'>(dfOMP)</span>,
then <i>r</i> must contain <span class='ss'>s</span>.&nbsp;
In the literature,
this pair of rules is often expressed as
</p>

<div class='eqn'>
<span class='mts'>A</span><sub>1</sub> =
{<i>r</i> | <i>r</i>&cap; (<span class='ss'>pmoFD</span>)<sup>&plusmn;1</sup>
&ne; &empty;
&rArr;
(<span class='ss'>p</span>)<sup>&plusmn;1</sup> &sube; <i>r</i>}
</div>

<p>
where the superscript &plusmn;1 indicates the relation and its converse
respectively in the two rules of the pair.&nbsp;
</p>


<table frame='border' rules='groups' class='maxtractsuba'>
<caption>Table 6.&nbsp; Tractable subalgebras (from Krokhin <i>et al.</i>)</caption>
<colgroup/><colgroup/><colgroup span='6'/><colgroup/>
<thead>
<tr><th>Name</th> <th colspan='7'>Rules</th><th>Size
  </th>
</tr>
</thead>
<tbody>
<tr><th rowspan='1'><span class='mts'>A</span><sub>&equiv;</sub>
  </th>
  <th class='num'>
  </th>
  <td colspan='2'><i>r</i> &ne; <span class='ss'>()</span>
  </td>
  <td>&rArr;</td>
  <td> (<span class='ss'>e</span>) &sube; <i>r</i>
    </td>
  <td colspan='2'>
    </td>
  <td rowspan='1'>4097
        <a href='allen-subalgebras/Ae.txt'>elements</a>
  </td>
</tr>
</tbody>
<tbody>
<tr><th rowspan='2'><span class='mts'>A</span><sub>1</sub>
  </th>
  <th class='num'>+)
  </th>
  <td class='lf'><i>r</i> &cap; (<span class='ss'>pmoFD</span>)
  </td>
  <td>&ne; <span class='ss'>()</span>
  </td>
  <td>&rArr;</td>
  <td> (<span class='ss'>S</span>) &sube; <i>r</i>
    </td>
  <td colspan='2'>
    </td>
  <td rowspan='2'>2178
        <a href='allen-subalgebras/A1.txt'>elements</a>
  </td>
</tr>
<tr><th class='num'>&minus;)
  </th>
  <td class='lf'><i>r</i> &cap; (<span class='ss'>dfOMP</span>)
  </td>
  <td>&ne; <span class='ss'>()</span>
  </td>
  <td>&rArr;</td>
  <td> (<span class='ss'>s</span>) &sube; <i>r</i>
    </td>
  <td colspan='2'>
  </td>
</tr>
</tbody>
<tbody>
<tr><th rowspan='2'><span class='mts'>A</span><sub>2</sub>
  </th>
  <th class='num'>+)
  </th>
  <td class='lf'><i>r</i> &cap; (<span class='ss'>pmoFD</span>)
  </td>
  <td>&ne; <span class='ss'>()</span>
  </td>
  <td>&rArr;</td>
  <td> (<span class='ss'>s</span>) &sube; <i>r</i>
    </td>
  <td colspan='2'>
    </td>
  <td rowspan='2'>2178
        <a href='allen-subalgebras/A2.txt'>elements</a>
  </td>
</tr>
<tr><th class='num'>&minus;)
  </th>
  <td class='lf'><i>r</i> &cap; (<span class='ss'>dfOMP</span>)
  </td>
  <td>&ne; <span class='ss'>()</span>
  </td>
  <td>&rArr;</td>
  <td> (<span class='ss'>S</span>) &sube; <i>r</i>
    </td>
  <td colspan='2'>
  </td>
</tr>
</tbody>
<tbody>
<tr><th rowspan='2'><span class='mts'>A</span><sub>3</sub>
  </th>
  <th class='num'>+)
  </th>
  <td class='lf'><i>r</i> &cap; (<span class='ss'>pmodf</span>)
  </td>
  <td>&ne; <span class='ss'>()</span>
  </td>
  <td>&rArr;</td>
  <td> (<span class='ss'>s</span>) &sube; <i>r</i>
    </td>
  <td colspan='2'>
    </td>
  <td rowspan='2'>2178
        <a href='allen-subalgebras/A3.txt'>elements</a>
  </td>
</tr>
<tr><th class='num'>&minus;)
  </th>
  <td class='lf'><i>r</i> &cap; (<span class='ss'>FDOMP</span>)
  </td>
  <td>&ne; <span class='ss'>()</span>
  </td>
  <td>&rArr;</td>
  <td> (<span class='ss'>S</span>) &sube; <i>r</i>
    </td>
  <td colspan='2'>
  </td>
</tr>
</tbody>
<tbody>
<tr><th rowspan='2'><span class='mts'>A</span><sub>4</sub>
  </th>
  <th class='num'>+)
  </th>
  <td class='lf'><i>r</i> &cap; (<span class='ss'>pmoFd</span>)
  </td>
  <td>&ne; <span class='ss'>()</span>
  </td>
  <td>&rArr;</td>
  <td> (<span class='ss'>s</span>) &sube; <i>r</i>
    </td>
  <td colspan='2'>
    </td>
  <td rowspan='2'>2178
        <a href='allen-subalgebras/A4.txt'>elements</a>
  </td>
</tr>
<tr><th class='num'>&minus;)
  </th>
  <td class='lf'><i>r</i> &cap; (<span class='ss'>DfOMP</span>)
  </td>
  <td>&ne; <span class='ss'>()</span>
  </td>
  <td>&rArr;</td>
  <td> (<span class='ss'>S</span>) &sube; <i>r</i>
    </td>
  <td colspan='2'>
  </td>
</tr>
</tbody>
<tbody>
<tr><th rowspan='2'><span class='mts'>B</span><sub>1</sub>
  </th>
  <th class='num'>+)
  </th>
  <td class='lf'><i>r</i> &cap; (<span class='ss'>pmosd</span>)
  </td>
  <td>&ne; <span class='ss'>()</span>
  </td>
  <td>&rArr;</td>
  <td> (<span class='ss'>F</span>) &sube; <i>r</i>
    </td>
  <td colspan='2'>
    </td>
  <td rowspan='2'>2178
        <a href='allen-subalgebras/B1.txt'>elements</a>
  </td>
</tr>
<tr><th class='num'>&minus;)
  </th>
  <td class='lf'><i>r</i> &cap; (<span class='ss'>DSOMP</span>)
  </td>
  <td>&ne; <span class='ss'>()</span>
  </td>
  <td>&rArr;</td>
  <td> (<span class='ss'>f</span>) &sube; <i>r</i>
    </td>
  <td colspan='2'>
  </td>
</tr>
</tbody>
<tbody>
<tr><th rowspan='2'><span class='mts'>B</span><sub>2</sub>
  </th>
  <th class='num'>+)
  </th>
  <td class='lf'><i>r</i> &cap; (<span class='ss'>pmosd</span>)
  </td>
  <td>&ne; <span class='ss'>()</span>
  </td>
  <td>&rArr;</td>
  <td> (<span class='ss'>f</span>) &sube; <i>r</i>
    </td>
  <td colspan='2'>
    </td>
  <td rowspan='2'>2178
        <a href='allen-subalgebras/B2.txt'>elements</a>
  </td>
</tr>
<tr><th class='num'>&minus;)
  </th>
  <td class='lf'><i>r</i> &cap; (<span class='ss'>DSOMP</span>)
  </td>
  <td>&ne; <span class='ss'>()</span>
  </td>
  <td>&rArr;</td>
  <td> (<span class='ss'>F</span>) &sube; <i>r</i>
    </td>
  <td colspan='2'>
  </td>
</tr>
</tbody>
<tbody>
<tr><th rowspan='2'><span class='mts'>B</span><sub>3</sub>
  </th>
  <th class='num'>+)
  </th>
  <td class='lf'><i>r</i> &cap; (<span class='ss'>pmoDS</span>)
  </td>
  <td>&ne; <span class='ss'>()</span>
  </td>
  <td>&rArr;</td>
  <td> (<span class='ss'>F</span>) &sube; <i>r</i>
    </td>
  <td colspan='2'>
    </td>
  <td rowspan='2'>2178
        <a href='allen-subalgebras/B3.txt'>elements</a>
  </td>
</tr>
<tr><th class='num'>&minus;)
  </th>
  <td class='lf'><i>r</i> &cap; (<span class='ss'>sdOMP</span>)
  </td>
  <td>&ne; <span class='ss'>()</span>
  </td>
  <td>&rArr;</td>
  <td> (<span class='ss'>f</span>) &sube; <i>r</i>
    </td>
  <td colspan='2'>
  </td>
</tr>
</tbody>
<tbody>
<tr><th rowspan='2'><span class='mts'>B</span><sub>4</sub>
  </th>
  <th class='num'>+)
  </th>
  <td class='lf'><i>r</i> &cap; (<span class='ss'>pmoDs</span>)
  </td>
  <td>&ne; <span class='ss'>()</span>
  </td>
  <td>&rArr;</td>
  <td> (<span class='ss'>F</span>) &sube; <i>r</i>
    </td>
  <td colspan='2'>
    </td>
  <td rowspan='2'>2178
        <a href='allen-subalgebras/B4.txt'>elements</a>
  </td>
</tr>
<tr><th class='num'>&minus;)
  </th>
  <td class='lf'><i>r</i> &cap; (<span class='ss'>SdOMP</span>)
  </td>
  <td>&ne; <span class='ss'>()</span>
  </td>
  <td>&rArr;</td>
  <td> (<span class='ss'>f</span>) &sube; <i>r</i>
    </td>
  <td colspan='2'>
  </td>
</tr>
</tbody>
<tbody>
<tr><th rowspan='2'><span class='mts'>E</span><sub>d</sub>
  </th>
  <th class='num'>+)
  </th>
  <td class='lf'><i>r</i> &cap; (<span class='ss'>pmosd</span>)
  </td>
  <td>&ne; <span class='ss'>()</span>
  </td>
  <td>&rArr;</td>
  <td> (<span class='ss'>d</span>) &sube; <i>r</i>
    </td>
  <td colspan='2'>
    </td>
  <td rowspan='2'>2312
        <a href='allen-subalgebras/Ed.txt'>elements</a>
  </td>
</tr>
<tr><th class='num'>&minus;)
  </th>
  <td class='lf'><i>r</i> &cap; (<span class='ss'>DSOMP</span>)
  </td>
  <td>&ne; <span class='ss'>()</span>
  </td>
  <td>&rArr;</td>
  <td> (<span class='ss'>D</span>) &sube; <i>r</i>
    </td>
  <td colspan='2'>
  </td>
</tr>
</tbody>
<tbody>
<tr><th rowspan='2'><span class='mts'>E</span><sub>o</sub>
  </th>
  <th class='num'>+)
  </th>
  <td class='lf'><i>r</i> &cap; (<span class='ss'>pmosd</span>)
  </td>
  <td>&ne; <span class='ss'>()</span>
  </td>
  <td>&rArr;</td>
  <td> (<span class='ss'>o</span>) &sube; <i>r</i>
    </td>
  <td colspan='2'>
    </td>
  <td rowspan='2'>2312
        <a href='allen-subalgebras/Eo.txt'>elements</a>
  </td>
</tr>
<tr><th class='num'>&minus;)
  </th>
  <td class='lf'><i>r</i> &cap; (<span class='ss'>DSOMP</span>)
  </td>
  <td>&ne; <span class='ss'>()</span>
  </td>
  <td>&rArr;</td>
  <td> (<span class='ss'>O</span>) &sube; <i>r</i>
    </td>
  <td colspan='2'>
  </td>
</tr>
</tbody>
<tbody>
<tr><th rowspan='2'><span class='mts'>E</span><sub>p</sub>
  </th>
  <th class='num'>+)
  </th>
  <td class='lf'><i>r</i> &cap; (<span class='ss'>pmosd</span>)
  </td>
  <td>&ne; <span class='ss'>()</span>
  </td>
  <td>&rArr;</td>
  <td> (<span class='ss'>p</span>) &sube; <i>r</i>
    </td>
  <td colspan='2'>
    </td>
  <td rowspan='2'>2312
        <a href='allen-subalgebras/Ep.txt'>elements</a>
  </td>
</tr>
<tr><th class='num'>&minus;)
  </th>
  <td class='lf'><i>r</i> &cap; (<span class='ss'>DSOMP</span>)
  </td>
  <td>&ne; <span class='ss'>()</span>
  </td>
  <td>&rArr;</td>
  <td> (<span class='ss'>P</span>) &sube; <i>r</i>
    </td>
  <td colspan='2'>
  </td>
</tr>
</tbody>
<tbody>
<tr><th rowspan='3'><span class='mts'>E</span><sup>*</sup>
  </th>
  <th class='num'>1+)
  </th>
  <td class='lf'><i>r</i> &cap; (<span class='ss'>pmosd</span>)
  </td>
  <td>&ne; <span class='ss'>()</span>
  </td>
  <td>&rArr;</td>
  <td> (<span class='ss'>s</span>) &sube; <i>r</i>
    </td>
  <td colspan='2'>
    </td>
  <td rowspan='3'>1445
        <a href='allen-subalgebras/Estar.txt'>elements</a>
  </td>
</tr>
<tr><th class='num'>1&minus;)
  </th>
  <td class='lf'><i>r</i> &cap; (<span class='ss'>DSOMP</span>)
  </td>
  <td>&ne; <span class='ss'>()</span>
  </td>
  <td>&rArr;</td>
  <td> (<span class='ss'>S</span>) &sube; <i>r</i>
    </td>
  <td colspan='2'>
  </td>
</tr>
<tr><th class='num'>2)
  </th>
  <td class='lf'><i>r</i> &cap; (<span class='ss'>Ff</span>)    </td>
  <td>&ne; <span class='ss'>()</span>
  </td>
  <td>&rArr;</td>
  <td> (<span class='ss'>e</span>) &sube; <i>r</i>
    </td>
  <td colspan='2'>
  </td>
</tr>
</tbody>
<tbody>
<tr><th class='mts' rowspan='6'>H
  </th>
  <th class='num'>1+)
  </th>
  <td class='lf'><i>r</i> &cap; (<span class='ss'>os</span>)
  </td>
  <td>&ne; <span class='ss'>()</span>
  </td>
  <td>&amp;</td>
  <td> <i>r</i> &cap; (<span class='ss'>Of</span>) &ne;
    <span class='ss'>()</span>
  </td>
  <td>&rArr;</td>
  <td> (<span class='ss'>d</span>) &sube; <i>r</i>
    </td>
  <td rowspan='6'>868
        <a href='allen-subalgebras/H.txt'>elements</a>
  </td>
</tr>
<tr><th class='num'>1&minus;)
  </th>
  <td class='lf'><i>r</i> &cap; (<span class='ss'>SO</span>)
  </td>
  <td>&ne; <span class='ss'>()</span>
  </td>
  <td>&amp;</td>
  <td> <i>r</i> &cap; (<span class='ss'>oF</span>) &ne; <span class='ss'>()</span>
  </td>
  <td>&rArr;</td>
  <td> (<span class='ss'>D</span>) &sube; <i>r</i>
  </td>
</tr>
<tr><th class='num'>2+)
  </th>
  <td class='lf'><i>r</i> &cap; (<span class='ss'>sd</span>)
  </td>
  <td>&ne; <span class='ss'>()</span>
  </td>
  <td>&amp;</td>
  <td> <i>r</i> &cap; (<span class='ss'>FD</span>) &ne; <span class='ss'>()</span>
  </td>
  <td>&rArr;</td>
  <td> (<span class='ss'>o</span>) &sube; <i>r</i>
  </td>
</tr>
<tr><th class='num'>2&minus;)
  </th>
  <td class='lf'><i>r</i> &cap; (<span class='ss'>DS</span>)
  </td>
  <td>&ne; <span class='ss'>()</span>
  </td>
  <td>&amp;</td>
  <td> <i>r</i> &cap; (<span class='ss'>df</span>) &ne; <span class='ss'>()</span>
  </td>
  <td>&rArr;</td>
  <td> (<span class='ss'>O</span>) &sube; <i>r</i>
  </td>
</tr>
<tr><th class='num'>3+)
  </th>
  <td class='lf'><i>r</i> &cap; (<span class='ss'>pm</span>)
  </td>
  <td>&ne; <span class='ss'>()</span>
  </td>
  <td>&amp;</td>
  <td> &not;(r &sube; (<span class='ss'>pm)</span>)
  </td>
  <td>&rArr;</td>
  <td> (<span class='ss'>o</span>) &sube; <i>r</i>
  </td>
</tr>
<tr><th class='num'>3&minus;)
  </th>
  <td class='lf'><i>r</i> &cap; (<span class='ss'>MP</span>)
  </td>
  <td>&ne; <span class='ss'>()</span>
  </td>
  <td>&amp;</td>
  <td> &not;(r &sube; (<span class='ss'>MP)</span>)
  </td>
  <td>&rArr;</td>
  <td> (<span class='ss'>O</span>) &sube; <i>r</i>
  </td>
</tr>
</tbody>
<tbody>
<tr><th rowspan='2'><span class='mts'>S</span><sub>d</sub>
  </th>
  <th class='num'>+)
  </th>
  <td class='lf'><i>r</i> &cap; (<span class='ss'>pmoFD</span>)
  </td>
  <td>&ne; <span class='ss'>()</span>
  </td>
  <td>&rArr;</td>
  <td> (<span class='ss'>D</span>) &sube; <i>r</i>
    </td>
  <td colspan='2'>
    </td>
  <td rowspan='2'>2312
        <a href='allen-subalgebras/Sd.txt'>elements</a>
  </td>
</tr>
<tr><th class='num'>&minus;)
  </th>
  <td class='lf'><i>r</i> &cap; (<span class='ss'>dfOMP</span>)
  </td>
  <td>&ne; <span class='ss'>()</span>
  </td>
  <td>&rArr;</td>
  <td> (<span class='ss'>d</span>) &sube; <i>r</i>
    </td>
  <td colspan='2'>
  </td>
</tr>
</tbody>
<tbody>
<tr><th rowspan='2'><span class='mts'>S</span><sub>o</sub>
  </th>
  <th class='num'>+)
  </th>
  <td class='lf'><i>r</i> &cap; (<span class='ss'>pmoFD</span>)
  </td>
  <td>&ne; <span class='ss'>()</span>
  </td>
  <td>&rArr;</td>
  <td> (<span class='ss'>o</span>) &sube; <i>r</i>
    </td>
  <td colspan='2'>
    </td>
  <td rowspan='2'>2312
        <a href='allen-subalgebras/So.txt'>elements</a>
  </td>
</tr>
<tr><th class='num'>&minus;)
  </th>
  <td class='lf'><i>r</i> &cap; (<span class='ss'>dfOMP</span>)
  </td>
  <td>&ne; <span class='ss'>()</span>
  </td>
  <td>&rArr;</td>
  <td> (<span class='ss'>O</span>) &sube; <i>r</i>
    </td>
  <td colspan='2'>
  </td>
</tr>
</tbody>
<tbody>
<tr><th rowspan='2'><span class='mts'>S</span><sub>p</sub>
  </th>
  <th class='num'>+)
  </th>
  <td class='lf'><i>r</i> &cap; (<span class='ss'>pmoFD</span>)
  </td>
  <td>&ne; <span class='ss'>()</span>
  </td>
  <td>&rArr;</td>
  <td> (<span class='ss'>p</span>) &sube; <i>r</i>
    </td>
  <td colspan='2'>
    </td>
  <td rowspan='2'>2312
        <a href='allen-subalgebras/Sp.txt'>elements</a>
  </td>
</tr>
<tr><th class='num'>&minus;)
  </th>
  <td class='lf'><i>r</i> &cap; (<span class='ss'>dfOMP</span>)
  </td>
  <td>&ne; <span class='ss'>()</span>
  </td>
  <td>&rArr;</td>
  <td> (<span class='ss'>P</span>) &sube; <i>r</i>
    </td>
  <td colspan='2'>
  </td>
</tr>
</tbody>
<tbody>
<tr><th rowspan='4'><span class='mts'>S</span><sup>*</sup>
  </th>
  <th class='num'>1+)
  </th>
  <td class='lf'><i>r</i> &cap; (<span class='ss'>pmoFD</span>)
  </td>
  <td>&ne; <span class='ss'>()</span>
  </td>
  <td>&rArr;</td>
  <td> (<span class='ss'>F</span>) &sube; <i>r</i>
    </td>
  <td colspan='2'>
    </td>
  <td rowspan='4'>1445
        <a href='allen-subalgebras/Sstar.txt'>elements</a>
  </td>
</tr>
<tr><th class='num'>1&minus;)
  </th>
  <td class='lf'><i>r</i> &cap; (<span class='ss'>dfOMP</span>)
  </td>
  <td>&ne; <span class='ss'>()</span>
  </td>
  <td>&rArr;</td>
  <td> (<span class='ss'>f</span>) &sube; <i>r</i>
    </td>
  <td colspan='2'>
  </td>
</tr>
<tr><th class='num'>2+)
  </th>
  <td class='lf'><i>r</i> &cap; (<span class='ss'>pmoFD</span>)
  </td>
  <td>&ne; <span class='ss'>()</span>
  </td>
  <td>&rArr;</td>
  <td> (<span class='ss'>F</span>) &sube; <i>r</i>
    </td>
  <td colspan='2'>
  </td>
</tr>
<tr><th class='num'>2&minus;)
  </th>
  <td class='lf'><i>r</i> &cap; (<span class='ss'>dfOMP</span>)
  </td>
  <td>&ne; <span class='ss'>()</span>
  </td>
  <td>&rArr;</td>
  <td> (<span class='ss'>f</span>) &sube; <i>r</i>
    </td>
  <td colspan='2'>
  </td>
</tr>
</tbody>
</table>


<h1>Networks of relations</h1>

<div class='figure'>
<img src='img/TurnOnTheLight2.png' alt='Example as graph'/>
<p>Figure 2.&nbsp; Example as graph
</p>
</div>

<p>
The Allen relations among three or more intervals
form a graph
whose nodes are the intervals and whose edges are the relations.&nbsp;
The light switch example from <a href='#TurnOnTheLight'>Table&nbsp;3</a>
can be presented as a graph as in
Figure&nbsp;2.&nbsp;
This graph is not complete &mdash;
there is no edge from node <i>a</i> to node <i>c</i>.
Instead,
only the known relations are presented.&nbsp;
</p>

<div class='figure'>
<img src='img/TurnOnTheLight3.png' alt='Example as graph'/>
<p>Figure 3.&nbsp; Complete graph
</p>
</div>

<p>
The graph may be completed
by inferring the relations corresponding to
each missing edge (Figure&nbsp;3).&nbsp;
In this case,
the missing edge is
<span class='ss'>(pmMP).(mo) = (pseSdfOMP)</span>.&nbsp;
Inference of missing edges is equivalent
to solving for satisfaction,
which in the general case is NP-complete.&nbsp;
For the <span class='mts'>H</span> subclass,
the path-consistency algorithm may be used
for complete inference and determining satisfiability
[<a href='#Gennari1998-trcp'>Gennari1998-trcp</a> p.194ff].&nbsp;
</p>


<h2>Equivalence of two networks</h2>

<p>
Two complete networks are equivalent if
they contain the same intervals,
and the relations between corresponding intervals are the same.&nbsp;
</p>

<p>
If one or both the networks are not complete,
then they are equivalent if
the corresponding completed networks are equivalent.&nbsp;
</p>


<h2>Specialization of a network</h2>

<p>
A complete network &alpha; is a <i>specialization</i>
of another complete network &beta;
if
</p>

<ol>
  <li> <i>Nodes</i>(&alpha;) &supe; <i>Nodes</i>(&beta;)<br/>
    (every interval in &beta; is present in &alpha;)
  </li>
  <li> For all corresponding edges <i>a</i> of &alpha;
    and <i>b</i> of &beta;,
    <i>a</i>&ge;<i>b</i> <br/>
    (every relation in &alpha; is the same or stronger
    than the corresponding relation in &beta;)
  </li>
</ol>

<p>
If one or both the networks are not complete,
then
&alpha; specializes &beta;
if the completion of &alpha; specialized the completion of &beta;.&nbsp;
</p>

<p>
Informally,
a network can be specialized into
another network that meets all the first one's constraints.&nbsp;
This can't happen if the specialization doesn't have all the intervals,
nor if the specialization has a weaker edge.&nbsp;
A mnemonic is "specialization means bigger and stronger".&nbsp;
</p>


<div class='figure'>
<img src='img/AllenBasicRelationsPO-vertical.png'
alt='Partial order of the basic relations'/>
<p>Figure 4.&nbsp; Partial order of the basic relations
</p>
</div>

<h1>Ordering the basic relations</h1>

<p>
The standard order I selected isn't the only plausible one.&nbsp;
Figure 4 shows a partial order of the basic relations,
in which each relation is obtained from the one(s) immediately above it
by nudging one end of <i>a</i> to or beyond the next end of <i>b</i>.&nbsp;
</p>


<h1>Other names and symbols for the basic relations</h1>

<table frame='border' rules='groups'>
<caption>Table 7.&nbsp; Names and symbols for the basic relations</caption>
<colgroup span='1'/>
<colgroup span='2'/>
<colgroup span='2'/>
<colgroup span='2'/>
<thead>
<tr>
  <th/><th colspan='2'>Here</th> <th colspan='2'>Allen</th>
  <th colspan='2'>Krokhin et al.</th>
</tr>
</thead>
<tbody>
<tr>
  <td class='BR'><img class='h24' src='img/A_p.png' alt='p'/>
  </td>
  <td>precedes
  </td>
  <td class='ce'><span class='ss'>p</span>
  </td>
  <td>before   </td>
  <td class='ce'>&lt;
  </td>
  <td>precedes
  </td>
  <td class='ce'><span class='ss'>p</span>
  </td>
</tr>
<tr>
  <td class='BR'><img class='h24' src='img/A_m.png' alt='m'/>
  </td>
  <td>meets
  </td>
  <td class='ce'><span class='ss'>m</span>
  </td>
  <td>meets
  </td>
  <td class='ce'>m
  </td>
  <td>meets
  </td>
  <td class='ce'><span class='ss'>m</span>
  </td>
</tr>
<tr>
  <td class='BR'><img class='h24' src='img/A_o.png' alt='o'/>
  </td>
  <td>overlaps
  </td>
  <td class='ce'><span class='ss'>o</span>
  </td>
  <td>overlaps
  </td>
  <td class='ce'>o
  </td>
  <td>overlaps
  </td>
  <td class='ce'><span class='ss'>o</span>
  </td>
</tr>
<tr>
  <td class='BR'><img class='h24' src='img/A_fi.png' alt='fi'/>
  </td>
  <td>finished-by
  </td>
  <td class='ce'><span class='ss'>F</span>
  </td>
  <td>finished-by
  </td>
  <td class='ce'>fi
  </td>
  <td>finished-by
  </td>
  <td class='ce'><span class='ss'>f<sup>-1</sup></span>
  </td>
</tr>
<tr>
  <td class='BR'><img class='h24' src='img/A_di.png' alt='di'/>
  </td>
  <td>contains
  </td>
  <td class='ce'><span class='ss'>d</span>
  </td>
  <td>contains
  </td>
  <td class='ce'>di
  </td>
  <td>contains
  </td>
  <td class='ce'><span class='ss'>d<sup>-1</sup></span>
  </td>
</tr>
<tr>
  <td class='BR'><img class='h24' src='img/A_s.png' alt='s'/>
  </td>
  <td>starts
  </td>
  <td class='ce'><span class='ss'>s</span>
  </td>
  <td>starts
  </td>
  <td class='ce'>s
  </td>
  <td>starts
  </td>
  <td class='ce'><span class='ss'>s</span>
  </td>
</tr>
<tr>
  <td class='BR'><img class='h24' src='img/A_e.png' alt='e'/>
  </td>
  <td>equals
  </td>
  <td class='ce'><span class='ss'>e</span>
  </td>
  <td>equals
  </td>
  <td class='ce'>=
  </td>
  <td>equals
  </td>
  <td class='ce'>&equiv;
  </td>
</tr>
<tr>
  <td class='BR'><img class='h24' src='img/A_si.png' alt='si'/>
  </td>
  <td>started-by
  </td>
  <td class='ce'><span class='ss'>s</span>
  </td>
  <td>started-by
  </td>
  <td class='ce'>si
  </td>
  <td>started-by
  </td>
  <td class='ce'><span class='ss'>s<sup>-1</sup></span>
  </td>
</tr>
<tr>
  <td class='BR'><img class='h24' src='img/A_d.png' alt='d'/>
  </td>
  <td>during
  </td>
  <td class='ce'><span class='ss'>d</span>
  </td>
  <td>during
  </td>
  <td class='ce'>d
  </td>
  <td>during
  </td>
  <td class='ce'><span class='ss'>d</span>
  </td>
</tr>
<tr>
  <td class='BR'><img class='h24' src='img/A_f.png' alt='f'/>
  </td>
  <td>finishes
  </td>
  <td class='ce'><span class='ss'>f</span>
  </td>
  <td>finishes
  </td>
  <td class='ce'>f
  </td>
  <td>finishes
  </td>
  <td class='ce'><span class='ss'>f</span>
  </td>
</tr>
<tr>
  <td class='BR'><img class='h24' src='img/A_oi.png' alt='oi'/>
  </td>
  <td>overlapped-by
  </td>
  <td class='ce'><span class='ss'>O</span>
  </td>
  <td>overlapped-by
  </td>
  <td class='ce'>oi
  </td>
  <td>overlapped-by
  </td>
  <td class='ce'><span class='ss'>o<sup>-1</sup></span>
  </td>
</tr>
<tr>
  <td class='BR'><img class='h24' src='img/A_mi.png' alt='mi'/>
  </td>
  <td>met-by
  </td>
  <td class='ce'><span class='ss'>M</span>
  </td>
  <td>met-by
  </td>
  <td class='ce'>mi
  </td>
  <td>met-by
  </td>
  <td class='ce'><span class='ss'>m<sup>-1</sup></span>
  </td>
</tr>
<tr>
  <td class='BR'><img class='h24' src='img/A_pi.png' alt='pi'/>
  </td>
  <td>preceded-by
  </td>
  <td class='ce'><span class='ss'>P</span>
  </td>
  <td>after
  </td>
  <td class='ce'>&gt;
  </td>
  <td>preceded-by
  </td>
  <td class='ce'><span class='ss'>p<sup>-1</sup></span>
  </td>
</tr>
</tbody>
</table>


<h1>References</h1>

<p id='Allen1983-mkti' title='Allen1983-mkti'>
Allen, James F.&nbsp;
"Maintaining knowledge about temporal intervals".&nbsp;
<i>Communications of the ACM</i>
<b>26</b>(11) pp.832-843, Nov. 1983.&nbsp;
</p>

<p id='Gennari1998-trcp' title='Gennari1998-trcp'>
Gennari, Rosella.&nbsp;
Temporal Reasoning and Constraint Programming: A survey.&nbsp;
<i>CWI Quarterly</i>, <b>11</b>(2-3):163-214.&nbsp;
1998.
</p>

<p id='Krokhin_Jeavons_Jonsson2003-rtrt' title='Krokhin_Jeavons_Jonsson2003-rtrt'>
Andrei Krokhin, Peter Jeavons, and Peter Jonsson.&nbsp;
"Reasoning about temporal relations:&nbsp;
The tractable subalgebras of Allen's interval algebra".&nbsp;
<i>Journal of the ACM</i> <b>50</b>(5), pp. 591-640, 2003.&nbsp;
</p>

<p id='Vilain_Kautz_Beek1989-cpat' title='Vilain_Kautz_Beek1989-cpat'>Marc Vilain,
Henry Kautz, and Peter van Beek.&nbsp;
"Constraint propagation algorithms for temporal reasoning:  a revised report".&nbsp;
In <i>Readings in qualitative reasoning about physical systems</i>,
edited by D. S. Weld and J. de Kleer, pp. 373-381, 1989.
</p>


<!--xhtml -n -->
</div>

</div><!-- #TBg -->

<div id='TFooter'>
<div class='W3C'>
  <a href='http://validator.w3.org/check?uri=referer'><img class='W3C'
    src='../../img/valid-xhtml10-blue.png'
    alt='Valid XHTML 1.0 Strict'/></a>
  <br/>
  <a href='http://jigsaw.w3.org/css-validator/check/referer'><img class='W3C'
    src='../../img/vcss-blue.png'
    alt='Valid CSS!'/></a>
</div>
<div class='timestamp'>2009Sep23We10:12</div>
<div style='padding-top:1px;'>
<a class='plain' href='./index.html' style='font-variant:small-caps;'
>Thomas A. Alspaugh</a>
<span style='padding-left:1em;'><span class='email ss sm'>alspaugh&nbsp;
    <span class='ss sc sm'>at</span> &middot; ics &middot; uci &middot; edu</span>
    <!-- -spell alspaugh uci edu --> </span>
</div>
</div>

<!-- Google Analytics code -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol)
  ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost +
  "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-15281497-1");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
</html>

