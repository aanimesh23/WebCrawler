<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="robots" content="index,nofollow">

<title>HelpOnInstalling/TwistedWeb - UAI '08 Workshop: Probabilistic Reasoning Systems</title>
<script type="text/javascript" src="/moin_static163/common/js/common.js"></script>

<script type="text/javascript">
<!--
var search_hint = "Search";
//-->
</script>


<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/moin_static163/modern/css/common.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen" href="/moin_static163/modern/css/screen.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="print" href="/moin_static163/modern/css/print.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="projection" href="/moin_static163/modern/css/projection.css">

<!-- css only for MS IE6/IE7 browsers -->
<!--[if lt IE 8]>
   <link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/moin_static163/modern/css/msie.css">
<![endif]-->


<link rel="alternate" title="UAI '08 Workshop: Probabilistic Reasoning Systems: HelpOnInstalling/TwistedWeb" href="/uai08/HelpOnInstalling/TwistedWeb?diffs=1&amp;show_att=1&amp;action=rss_rc&amp;unique=0&amp;page=HelpOnInstalling%2FTwistedWeb&amp;ddiffs=1" type="application/rss+xml">


<link rel="Start" href="/uai08/FrontPage">
<link rel="Alternate" title="Wiki Markup" href="/uai08/HelpOnInstalling/TwistedWeb?action=raw">
<link rel="Alternate" media="print" title="Print View" href="/uai08/HelpOnInstalling/TwistedWeb?action=print">
<link rel="Up" href="/uai08/HelpOnInstalling">
<link rel="Search" href="/uai08/FindPage">
<link rel="Index" href="/uai08/TitleIndex">
<link rel="Glossary" href="/uai08/WordIndex">
<link rel="Help" href="/uai08/HelpOnFormatting">
</head>

<body  lang="en" dir="ltr">

<div id="header">
<div id="logo"><a href="/uai08/FrontPage"><img src="/moin_static163/uai08/uaihead.png" alt="UAI 08 Logo"></a></div>

<form id="searchform" method="get" action="/uai08/HelpOnInstalling/TwistedWeb">
<div>
<input type="hidden" name="action" value="fullsearch">
<input type="hidden" name="context" value="180">
<label for="searchinput">Search:</label>
<input id="searchinput" type="text" name="value" value="" size="20"
    onfocus="searchFocus(this)" onblur="searchBlur(this)"
    onkeyup="searchChange(this)" onchange="searchChange(this)" alt="Search">
<input id="titlesearch" name="titlesearch" type="submit"
    value="Titles" alt="Search Titles">
<input id="fullsearch" name="fullsearch" type="submit"
    value="Text" alt="Search Full Text">
</div>
</form>
<script type="text/javascript">
<!--// Initialize search form
var f = document.getElementById('searchform');
f.getElementsByTagName('label')[0].style.display = 'none';
var e = document.getElementById('searchinput');
searchChange(e);
searchBlur(e);
//-->
</script>

<ul id="username"><li><a href="/uai08/HelpOnInstalling/TwistedWeb?action=login" id="login" rel="nofollow">Login</a></li></ul>
<div id="locationline">


<ul id="pagelocation">
<li><a href="/uai08/HelpOnInstalling">HelpOnInstalling</a></li><li><a class="backlink" href="/uai08/HelpOnInstalling/TwistedWeb?action=fullsearch&amp;context=180&amp;value=linkto%3A%22HelpOnInstalling%2FTwistedWeb%22" rel="nofollow" title="Click to do a full-text search for this title">TwistedWeb</a></li>
</ul>

</div>


<ul id="navibar">
<li class="wikilink"><a href="/uai08/FrontPage">FrontPage</a></li><li class="wikilink"><a href="/uai08/RecentChanges">RecentChanges</a></li><li class="wikilink"><a href="/uai08/FindPage">FindPage</a></li><li class="wikilink"><a href="/uai08/HelpContents">HelpContents</a></li><li class="current"><a href="/uai08/HelpOnInstalling/TwistedWeb">TwistedWeb</a></li>
</ul>

<div id="pageline"><hr style="display:none;"></div>

<ul class="editbar"><li><span class="disabled">Immutable Page</span></li><li class="toggleCommentsButton" style="display:none;"><a href="#" class="nbcomment" onClick="toggleComments();return false;">Comments</a></li><li><a class="nbinfo" href="/uai08/HelpOnInstalling/TwistedWeb?action=info" rel="nofollow">Info</a></li><li><a class="nbattachments" href="/uai08/HelpOnInstalling/TwistedWeb?action=AttachFile" rel="nofollow">Attachments</a></li><li>
<form class="actionsmenu" method="GET" action="/uai08/HelpOnInstalling/TwistedWeb">
<div>
    <label>More Actions:</label>
    <select name="action"
        onchange="if ((this.selectedIndex != 0) &&
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="raw">Raw Text</option>
<option value="print">Print View</option>
<option value="RenderAsDocbook">Render as Docbook</option>
<option value="refresh">Delete Cache</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="SpellCheck">Check Spelling</option>
<option value="LikePages">Like Pages</option>
<option value="LocalSiteMap">Local Site Map</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="RenamePage" disabled class="disabled">Rename Page</option>
<option value="DeletePage" disabled class="disabled">Delete Page</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Subscribe User</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Remove Spam</option>
<option value="show" disabled class="disabled">Revert to this revision</option>
<option value="PackagePages">Package Pages</option>
<option value="SyncPages">Sync Pages</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="Load">Load</option>
<option value="Save">Save</option>
<option value="SlideShow">SlideShow</option>
    </select>
    <input type="submit" value="Do">
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script>
</form>
</li></ul>

</div>

<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><span class="anchor" id="line-2"></span><span class="anchor" id="line-3"></span><span class="anchor" id="line-4"></span><span class="anchor" id="line-5"></span><span class="anchor" id="line-6"></span><span class="anchor" id="line-7"></span><span class="anchor" id="line-8"></span><span class="anchor" id="line-9"></span><p class="line867">
<h1 id="Using_MoinMoin_with_Twisted">Using MoinMoin with Twisted</h1>
<span class="anchor" id="line-10"></span><span class="anchor" id="line-11"></span><p class="line867"><a class="http" href="http://twistedmatrix.com/trac/wiki">Twisted</a> is an event-driven networking framework for many kinds of applications. <span class="anchor" id="line-12"></span>For <a href="/uai08/MoinMoin">MoinMoin</a> Twisted is used as a web server that just imports <a href="/uai08/MoinMoin">MoinMoin</a> persistently. This has the advantage that the Python interpreter and all Python scripts (including Twisted itself and also <a href="/uai08/MoinMoin">MoinMoin</a>) is only loaded and initialized one time, and that data can be cached in memory from request to request, enhancing the performance of <a href="/uai08/MoinMoin">MoinMoin</a>. <span class="anchor" id="line-13"></span><span class="anchor" id="line-14"></span><span class="anchor" id="line-15"></span><ul><li style="list-style-type:none"><p class="line891"><img alt="/!\" height="15" src="/moin_static163/modern/img/alert.png" title="/!\" width="15" /> First do <a href="/uai08/HelpOnInstalling/BasicInstallation">../BasicInstallation</a> and <a href="/uai08/HelpOnInstalling/WikiInstanceCreation">../WikiInstanceCreation</a>. <span class="anchor" id="line-16"></span><span class="anchor" id="line-17"></span></li></ul><p class="line874">Besides the general installation you need 3 files:  <span class="anchor" id="line-18"></span><span class="anchor" id="line-19"></span><ol type="1"><li><p class="line862">the script <tt>/path/to/cgi-dir/mointwisted</tt> (see "Starting the server" below) <span class="anchor" id="line-20"></span></li><li><p class="line862">the webserver script file like <tt>mointwisted.py</tt> (which needs to be in the same directory where your working directory is). <span class="anchor" id="line-21"></span></li><li><p class="line862">the configuration file like  <tt>/path/to/wikiconfig-dir/wikiconfig.py</tt> <span class="anchor" id="line-22"></span><span class="anchor" id="line-23"></span></li></ol><p class="line867"><div class="table-of-contents"><p class="table-of-contents-heading">Contents<ol><li>
<a href="#Using_MoinMoin_with_Twisted">Using MoinMoin with Twisted</a><ol><li>
<a href="#Install_Twisted">Install Twisted</a></li><li>
<a href="#Configuring_the_Twisted_server">Configuring the Twisted server</a><ol><li>
<a href="#System_path_configuration">System path configuration</a></li><li>
<a href="#Config_class_options">Config class options</a></li></ol></li><li>
<a href="#Configuring_wikiconfig.py">Configuring wikiconfig.py</a></li><li>
<a href="#Starting_the_server">Starting the server</a><ol><li>
<a href="#on_Unix">on Unix</a></li><li>
<a href="#on_Windows">on Windows</a></li></ol></li></ol></li></ol></div> <span class="anchor" id="line-24"></span><span class="anchor" id="line-25"></span><p class="line867">
<h2 id="Install_Twisted">Install Twisted</h2>
<span class="anchor" id="line-26"></span><span class="anchor" id="line-27"></span><p class="line874">First, install Twisted (see URL above). Many Linux distributions have Twisted packages. Please refer to the documentation of Twisted for installation information. <span class="anchor" id="line-28"></span><span class="anchor" id="line-29"></span><p class="line867">
<h2 id="Configuring_the_Twisted_server">Configuring the Twisted server</h2>
<span class="anchor" id="line-30"></span><span class="anchor" id="line-31"></span><p class="line862">Copy the file <tt class="backtick">wiki/server/mointwisted.py</tt> to your wiki directory. Edit and adapt the settings to your needs. <span class="anchor" id="line-32"></span><span class="anchor" id="line-33"></span><p class="line867">
<h3 id="System_path_configuration">System path configuration</h3>
<span class="anchor" id="line-34"></span><span class="anchor" id="line-35"></span><p class="line874">If you did a standard install, and you are not a developer, you probably want to skip this section. Otherwise, you might want to add the path to moin and config file, like that: <span class="anchor" id="line-36"></span><span class="anchor" id="line-37"></span><p class="line867"><span class="anchor" id="line-38"></span><span class="anchor" id="line-39"></span><span class="anchor" id="line-40"></span><pre><span class="anchor" id="HelpOnInstalling.2BAC8-TwistedWeb.line-1"></span>sys.path.insert(0, '/path/to/moin')
<span class="anchor" id="HelpOnInstalling.2BAC8-TwistedWeb.line-2"></span>sys.path.insert(0, '/path/to/wikiconfig')</pre><span class="anchor" id="line-41"></span><span class="anchor" id="line-42"></span><p class="line867">
<h3 id="Config_class_options">Config class options</h3>
<span class="anchor" id="line-43"></span><span class="anchor" id="line-44"></span><p class="line874">If you did a standard install, the default options might be just what you need. Check and change what you like: <span class="anchor" id="line-45"></span><span class="anchor" id="line-46"></span><div><table><tbody><tr>  <td><p class="line862"> <strong>Option</strong> </td>
  <td><p class="line862"> <strong>Default</strong> </td>
  <td><p class="line862"> <strong>Comment</strong> </td>
</tr>
<tr>  <td><span class="anchor" id="line-47"></span><p class="line862"> docs </td>
  <td><p class="line862"> '/usr/share/moin/wiki/htdocs' </td>
  <td><p class="line862"> Path to moin shared files </td>
</tr>
<tr>  <td><span class="anchor" id="line-48"></span><p class="line862"> user </td>
  <td><p class="line862"> 'www-data' </td>
  <td><p class="line862"> If you run as root, the server will run as this user </td>
</tr>
<tr>  <td><span class="anchor" id="line-49"></span><p class="line862"> group </td>
  <td><p class="line862"> 'www-data' </td>
  <td><p class="line862"> If you run as root, the server will run as this group </td>
</tr>
<tr>  <td><span class="anchor" id="line-50"></span><p class="line862"> port </td>
  <td><p class="line862"> 8080 </td>
  <td><p class="line862"> Port to serve. To serve a privileged port below 1024 you will have to run as root </td>
</tr>
<tr>  <td><span class="anchor" id="line-51"></span><p class="line862"> interfaces </td>
  <td><p class="line862"> <tt class="backtick">['']</tt> </td>
  <td><p class="line862"> A list of interfaces the server will listen to. If the list contains the entry <tt class="backtick">''</tt> (like for the default configuration), all other entries are ignored and the server will listen to all interfaces. </td>
</tr>
<tr>  <td><span class="anchor" id="line-52"></span><p class="line862"> logPath </td>
  <td><p class="line862"> 'mointwisted.log' </td>
  <td><p class="line862"> Log file. </td>
</tr>
<tr>  <td><span class="anchor" id="line-53"></span><p class="line862"> profiler </td>
  <td><p class="line862"> commented python code </td>
  <td><p class="line862"> Useful only if you are a moin developer. </td>
</tr>
</tbody></table></div><span class="anchor" id="line-54"></span><span class="anchor" id="line-55"></span><p class="line867">
<h2 id="Configuring_wikiconfig.py">Configuring wikiconfig.py</h2>
<span class="anchor" id="line-56"></span><span class="anchor" id="line-57"></span><p class="line874">The sample config file should be just fine. <span class="anchor" id="line-58"></span><span class="anchor" id="line-59"></span><p class="line862">Don't change <tt class="backtick">url_prefix_static</tt> as the default value is hardcoded in the Twisted server. <span class="anchor" id="line-60"></span><span class="anchor" id="line-61"></span><p class="line867">
<h2 id="Starting_the_server">Starting the server</h2>
<span class="anchor" id="line-62"></span><span class="anchor" id="line-63"></span><p class="line867">
<h3 id="on_Unix">on Unix</h3>
<span class="anchor" id="line-64"></span><span class="anchor" id="line-65"></span><p class="line862">On GNU/Linux, Mac OS X or another POSIX-like OS, copy <tt class="backtick">wiki/server/mointwisted</tt> to your wiki directory. You might want to adapt <tt class="backtick">PYTHONPATH</tt> and the path to <tt class="backtick">twistd</tt>.  <span class="anchor" id="line-66"></span><span class="anchor" id="line-67"></span><p class="line862">Start the server with <tt>./mointwisted&nbsp;start</tt> and test your wiki at <a class="http" href="http://localhost:8080/">http://localhost:8080/</a>. Stop the server with <tt>./mointwisted&nbsp;stop</tt>. <span class="anchor" id="line-68"></span><span class="anchor" id="line-69"></span><p class="line862">For more options run <tt>./mointwisted</tt> without arguments. <span class="anchor" id="line-70"></span><span class="anchor" id="line-71"></span><p class="line862">If you want to start the server via initscript make sure <tt>mointwisted</tt> finds <tt>montwisted.py</tt> on startup!  <span class="anchor" id="line-72"></span><span class="anchor" id="line-73"></span><span class="anchor" id="line-74"></span><p class="line867">
<h3 id="on_Windows">on Windows</h3>
<span class="anchor" id="line-75"></span><span class="anchor" id="line-76"></span><p class="line862">Copy <tt class="backtick">wiki/server/mointwisted.cmd</tt> to your wiki directory. You might have to change the path pointing to the python-scripts directory. <span class="anchor" id="line-77"></span><span class="anchor" id="line-78"></span><p class="line862">Double click <tt class="backtick">mointwisted.cmd</tt> to start the server. It will create a new terminal window. To stop the server, close the terminal window. <span class="anchor" id="line-79"></span><span class="anchor" id="bottom"></span></div>
<div id="pagebottom"></div>
</div>


<div id="footer">
<ul class="editbar"><li><span class="disabled">Immutable Page</span></li><li class="toggleCommentsButton" style="display:none;"><a href="#" class="nbcomment" onClick="toggleComments();return false;">Comments</a></li><li><a class="nbinfo" href="/uai08/HelpOnInstalling/TwistedWeb?action=info" rel="nofollow">Info</a></li><li><a class="nbattachments" href="/uai08/HelpOnInstalling/TwistedWeb?action=AttachFile" rel="nofollow">Attachments</a></li><li>
<form class="actionsmenu" method="GET" action="/uai08/HelpOnInstalling/TwistedWeb">
<div>
    <label>More Actions:</label>
    <select name="action"
        onchange="if ((this.selectedIndex != 0) &&
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="raw">Raw Text</option>
<option value="print">Print View</option>
<option value="RenderAsDocbook">Render as Docbook</option>
<option value="refresh">Delete Cache</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="SpellCheck">Check Spelling</option>
<option value="LikePages">Like Pages</option>
<option value="LocalSiteMap">Local Site Map</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="RenamePage" disabled class="disabled">Rename Page</option>
<option value="DeletePage" disabled class="disabled">Delete Page</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Subscribe User</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Remove Spam</option>
<option value="show" disabled class="disabled">Revert to this revision</option>
<option value="PackagePages">Package Pages</option>
<option value="SyncPages">Sync Pages</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="Load">Load</option>
<option value="Save">Save</option>
<option value="SlideShow">SlideShow</option>
    </select>
    <input type="submit" value="Do">
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script>
</form>
</li></ul>

<ul id="credits">
<li><a href="http://moinmo.in/" title="This site uses the MoinMoin Wiki software.">MoinMoin Powered</a></li><li><a href="http://moinmo.in/Python" title="MoinMoin is written in Python.">Python Powered</a></li><li><a href="http://moinmo.in/GPL" title="MoinMoin is GPL licensed.">GPL licensed</a></li><li><a href="http://validator.w3.org/check?uri=referer" title="Click here to validate this page.">Valid HTML 4.01</a></li>
</ul>


</div>
</body>
</html>

