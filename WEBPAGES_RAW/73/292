<!DOCTYPE html 
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
  <title>SLI | PmWiki / PageListTemplates </title>
  <meta http-equiv='Content-Style-Type' content='text/css' />
  <link rel='stylesheet' href='http://sli.ics.uci.edu/pmwiki/pub/skins/custom/pmwiki.css' type='text/css' />
  <!--HTMLHeader--><style type='text/css'><!--
  ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }
  code.escaped { white-space: nowrap; }
  .vspace { margin-top:1.33em; }
  .indent { margin-left:40px; }
  .outdent { margin-left:40px; text-indent:-40px; }
  a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
  a.createlink { text-decoration:none; position:relative; top:-0.5em;
    font-weight:bold; font-size:smaller; border-bottom:none; }
  img { border:0px; }
  .editconflict { color:green; 
  font-style:italic; margin-top:1.33em; margin-bottom:1.33em; }

  table.markup { border:2px dotted #ccf; width:90%; }
  td.markup1, td.markup2 { padding-left:10px; padding-right:10px; }
  table.vert td.markup1 { border-bottom:1px solid #ccf; }
  table.horiz td.markup1 { width:23em; border-right:1px solid #ccf; }
  table.markup caption { text-align:left; }
  div.faq p, div.faq pre { margin-left:2em; }
  div.faq p.question { margin:1em 0 0.75em 0; font-weight:bold; }
  div.faqtoc div.faq * { display:none; }
  div.faqtoc div.faq p.question 
    { display:block; font-weight:normal; margin:0.5em 0 0.5em 20px; line-height:normal; }
  div.faqtoc div.faq p.question * { display:inline; }
   
    .frame 
      { border:1px solid #cccccc; padding:4px; background-color:#f9f9f9; }
    .lfloat { float:left; margin-right:0.5em; }
    .rfloat { float:right; margin-left:0.5em; }
a.varlink { text-decoration:none;}

--></style>  <meta name='robots' content='noindex,nofollow' />

</head>
<body>
<!--PageHeaderFmt-->
  <div id='wikilogo'><a href='http://sli.ics.uci.edu'><img src='/pmwiki/pub/skins/custom/SLI_white.png'
    alt='SLI' border='0' /></a></div>
  <div id='wikihead'>
  <form action='http://sli.ics.uci.edu'>
    <!-- <span class='headnav'><a href='http://sli.ics.uci.edu/PmWiki/RecentChanges'
      accesskey='c'>Recent Changes</a> -</span> --> 
    <input type='hidden' name='n' value='PmWiki.PageListTemplates' />
    <input type='hidden' name='action' value='search' />
    <!-- <a href='http://sli.ics.uci.edu/Site/Search'>Search</a>: -->
    <input type='text' name='q' value='' class='inputbox searchbox' />
    <input type='submit' class='inputbutton searchbutton'
      value='Search' />
    <a href='http://sli.ics.uci.edu/Site/Search'>(?)</a>
  </form></div>
<!--/PageHeaderFmt-->
  <table id='wikimid' width='100%' cellspacing='0' cellpadding='0'><tr>
<!--PageLeftFmt-->
      <td id='wikileft' valign='top'>
        <ul><li><a class='wikilink' href='http://sli.ics.uci.edu/Classes/Classes'>Classes</a>
</li><li><a class='wikilink' href='http://sli.ics.uci.edu/Group/Group'>Group</a>
</li><li><a class='wikilink' href='http://sli.ics.uci.edu/Projects/Projects'>Research</a>
</li><li><a class='urllink' href='http://www.ics.uci.edu/~ihler/pubs.html' rel='nofollow'>Publications</a>
</li><li><a class='wikilink' href='http://sli.ics.uci.edu/Code/Code'>Code</a>
</li></ul><div class='vspace'></div><hr />
<div class='vspace'></div>
</td>
<!--/PageLeftFmt-->
      <td id='wikibody' valign='top'>
<!--PageActionFmt-->
        <div id='wikicmds'><ul><li class='browse'><a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/PageListTemplates?action=login'>login</a>
</li></ul>
</div>
<!--PageTitleFmt-->
        <div id='wikititle'>
          <div class='pagegroup'><a href='http://sli.ics.uci.edu/PmWiki'>PmWiki</a> /</div>
          <h1 class='pagetitle'>PageListTemplates</h1></div>
<!--PageText-->
<div id='wikitext'>
<p>
<a name='trailstart' id='trailstart'></a> 
</p><div style='clear:right;' >
</div>
<h2>Default <a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/PageLists'>page list</a> templates</h2>
<p>PmWiki's default templates for <a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/PageLists'>page lists</a> are in <a class='wikilink' href='http://sli.ics.uci.edu/Site/PageListTemplates'>Site.PageListTemplates</a>, which is replaced during upgrades.  
These default templates can be supplemented or overridden with custom templates stored in other locations. 
</p>
<p class='vspace'>If the page name is not specified as part of the template name, PmWiki's default configuration looks for templates in the following locations in the following order
</p><ol><li>the current page
</li><li><a class='createlinktext' rel='nofollow'
    href='http://sli.ics.uci.edu/Site/LocalTemplates?action=edit'>Site.LocalTemplates</a><a rel='nofollow' 
    class='createlink' href='http://sli.ics.uci.edu/Site/LocalTemplates?action=edit'>?</a>, 
</li><li><a class='wikilink' href='http://sli.ics.uci.edu/Site/PageListTemplates'>Site.PageListTemplates</a>
</li></ol><p>Administrators can change those locations by using the <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PagelistVariables#FPLTemplatePageFmt'><code class='varlink'>&#36;FPLTemplatePageFmt</code></a> variable.  
</p>
<p class='vspace'>If the template is on the current page, the current page must be saved for changes involving the template to show up <em>(preview alone will not work)</em>.
</p>
<div class='vspace'></div><h2>Custom page list templates</h2>
<p>Custom templates are used in the same way as default templates: by referencing the desired format with the <code>fmt=#<em>anchor</em></code> option.  
There are several ways to indicate which template to use:
</p><ul><li><code class='escaped'>fmt=#custom</code> uses the #custom section from the current page, <a class='createlinktext' rel='nofollow'
    href='http://sli.ics.uci.edu/Site/LocalTemplates?action=edit'>Site.LocalTemplates</a><a rel='nofollow' 
    class='createlink' href='http://sli.ics.uci.edu/Site/LocalTemplates?action=edit'>?</a>, or <a class='wikilink' href='http://sli.ics.uci.edu/Site/PageListTemplates'>Site.PageListTemplates</a>, (sections are denoted by <code class='escaped'>[[#custom]]</code> anchors.
</li><li><code class='escaped'>fmt=MyTemplatePage#custom</code> uses a custom format from page <code>MyTemplatePage</code> from its <code>#custom</code> section.
</li><li><code class='escaped'>fmt=MyTemplatePage</code> uses a custom format from the entire page <code>MyTemplatePage</code>.
</li><li><code class='escaped'>fmt=custom</code> uses custom format which is defined in a cookbook script as <em>custom</em>.
</li></ul><p class='vspace'>See <a class='urllink' href='http://www.pmwiki.org/wiki/Cookbook/PagelistTemplateSamples' rel='nofollow'>Cookbook:PagelistTemplateSamples</a> for examples of custom pagelist formats.
</p>
<div class='vspace'></div><h2>Creating page list templates</h2>
<p>A pagelist template contains standard pmwiki markup.  
When creating pagelist output, pmwiki iterates over each page returned from the pagelist and will include the pagelist template markup once for every page in the list. 
</p>
<p class='vspace'><a name='specialreferences' id='specialreferences'></a>
</p><h3>Special references </h3>
<p>During the page list iteration pmwiki sets 3 special page references: <strong>=</strong>, <strong>&lt;</strong> and <strong>&gt;</strong>.  
These special page references are updated on each pagelist iteration and can be used with the <a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/PageVariables'>page variables</a> syntax, such as <em>{=$variable}</em>,  to define a pagelist template which will format the pagelist output.  The meaning of the special references are:
</p>
<table width='*' ><tr ><td  align='center'>=</td><td  align='left'>current page</td><td  align='left'>so <em><code class='escaped'>{=$Title}</code></em></td><td >displays the title of the current page in the iteration</td></tr>
<tr ><td  align='center'>&lt;</td><td  align='left'>previous page</td><td  align='left'>so <em><code class='escaped'>{&lt;$Group}</code></em></td><td >displays the group of the previous page in the iteration</td></tr>
<tr ><td  align='center'>&gt;</td><td  align='left'>next page</td><td  align='left'>so <em><code class='escaped'>{&gt;$Name}</code></em></td><td >displays the name of the next page in the iteration</td></tr>
</table>
<p class='vspace'>The &gt; and &lt; references are most useful to help structure pagelist output before and after the actual pagelist.  Some common tests used to structure pagelist output are:
</p>
<table class='frame' ><tr><td  valign='top'><code class='escaped'>(:template first:)</code>
</td><td  valign='top'><span style='font-size:83%'> <del> <code class='escaped'>(:if equal {&lt;$Group}:)</code> </del> </span>
</td><td  valign='top'>Iteration is at the beginning of list
</td></tr><tr><td  valign='top'><code class='escaped'>(:template last:)</code>
</td><td  valign='top'><span style='font-size:83%'> <del> <code class='escaped'>(:if equal {&gt;$Group}:)</code> </del> </span>
</td><td  valign='top'>Iteration is at the end of list
</td></tr><tr><td  valign='top'><code class='escaped'>(:template first {=$Group}:)</code>
</td><td  valign='top'><span style='font-size:83%'> <del> <code class='escaped'>(:if ! equal {=$Group} {&lt;$Group}:)</code> </del> </span>
</td><td  valign='top'>Iteration is at the first item in a group
</td></tr><tr><td  valign='top'><code class='escaped'>(:template last  {=$Group}:)</code>
</td><td  valign='top'><span style='font-size:83%'> <del> <code class='escaped'>(:if ! equal {=$Group} {&gt;$Group}:)</code> </del> </span>
</td><td  valign='top'>Iteration is at the last item in a group 
</td></tr><tr><td  valign='top'><code class='escaped'>(:template defaults:)</code>
</td><td  valign='top'>
</td><td  valign='top'>Default options to be used in the pagelist command
</td></tr><tr><td  valign='top'><code class='escaped'>(:template each:)</code>
</td><td  valign='top'>
</td><td  valign='top'>Signifies the repeated part
</td></tr></table>
<p><a name='specialreferencesend' id='specialreferencesend'></a>
<em>Note</em>: the markup in column 2 is deprecated.
</p><div class='outdent'>See also <a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/PageVariables#specialreferences'>page variable special references</a>.
</div><div class='vspace'></div><h2>Page list template special markup</h2>
<p>Pagelist templates may have special sections
</p><ul><li><code class='escaped'>(:template first ...:)</code> and <code class='escaped'>(:template ! first ...:)</code>
</li><li><code class='escaped'>(:template last ...:)</code> and <code class='escaped'>(:template ! last ...:)</code>
</li></ul><p>to specify output for the first or last page in the list or a group (use <code> !first </code> and <code> !last </code> for output <em>except</em> for the first/last page).
</p>
<p class='vspace'>There's also a 
</p><ul><li><code class='escaped'>(:template defaults ...:)</code> 
to allow a template to specify default options,
</li><li><code class='escaped'>(:template each ...:)</code>
to signify the repeated part, and
</li><li><code class='escaped'>(:template none:)</code>
whose content will appear if no page was found (from version 2.2.5).
</li></ul><p class='vspace'>These allow Pagelist templates to be easily separated into "sections"
that are included or not included in the output based on a variety of
conditions.  These are intended to be improved versions of the
(:if ...:) conditions that have traditionally been used to control
pagelist output (however, the (:if:) conditions still work as before).
</p>
<div class='vspace'></div><h3>First, Each, Last, None</h3>
<p>The simplest versions of the directives are:
</p><div class='indent'><pre class='escaped'>
(:template first:)      # markup to display only for first page in list
(:template ! first:)    # markup to display for every page in list but the first
(:template each:)       # markup to display for each page in list
(:template last:)       # markup to display only on last page in list
(:template ! last:)     # markup to display for every page in list but the last
(:template none:)       # markup to display only if no pages were found</pre>
</div><p class='vspace'>So, a pagelist template can specify:
</p>
<div class='vspace'></div><div class='indent'><pre class='escaped'>(:template first:)
Pages in the list:
(:template each:)
* [[{=$FullName}]] [-{{=$FullName}$:Summary}-]
(:template last:)
Displayed {$$PageCount} pages.</pre>
</div><p class='vspace'>In addition, the "first" and "last" options can have control break
arguments that identify markup to be displayed on the first or last
page within a particular control section.  For example, to specify
markup to be displayed upon reaching the first or last page of
a group, one can use
</p>
<div class='vspace'></div><div class='indent'><pre class='escaped'>(:template first {=$Group}:)
(:template last {=$Group}:)</pre>
</div><p class='vspace'>Thus, instead of writing control breaks using  directives, as in
</p>
<div class='vspace'></div><div class='indent'><pre class='escaped'>(:if ! equal {&lt;$Group} {=$Group}:)
Group: {=$Group}
(:ifend:)
* [[{=$FullName}]]</pre>
</div><p class='vspace'>one can now write
</p>
<div class='vspace'></div><div class='indent'><pre class='escaped'>(:template first {=$Group}:)
Group: {=$Group}
(:template each:)
* [[{=$FullName}]]</pre>
</div><p class='vspace'><a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/PageTextVariables'>Page text variables</a> and <a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/PageVariables'>page variables</a> can also be used, for example
</p><div class='indent'><pre class='escaped'>(:template default $:Maintainer=- order=$:Maintainer,name:)
(:template first {=$:Maintainer}:)
</pre>
</div><div class='vspace'></div><h3>Default options</h3>
<p>In addition, a template may specify default options to be used
in the pagelist command.  For example, a pagelist template to
display a list of pages by their titles (and sorted by title)
might use:
</p>
<div class='vspace'></div><div class='indent'><pre class='escaped'>[[#bytitle]]
(:template defaults order=title:)
* [[{=$FullName}|+]]
[[#bytitleend]]</pre>
</div><p class='vspace'>Then an author could write (:pagelist fmt=#bytitle:) and the
pages would automatically be sorted by title without having to
specify an additional "order=title" option to the (:pagelist:)
directive.
</p>
<p class='vspace'>To specify multiple parameters to an option enclose the parameters in double quotes, eg to sort by a <a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/PageTextVariables'>page text variable</a> and then the page name
</p><div class='indent'><code class='escaped'> (:template defaults order="$:Database,name" :) </code>
</div><div class='vspace'></div><h3>Examples</h3>
<dl><dt>(:template defaults ... :)   </dt><dd>  default options for pagelists using this template
</dd><dt>(:template each:)            </dt><dd>  markup for each page in the pagelist
</dd><dt>(:template first:)           </dt><dd>  markup output only for the first page in the pagelist
</dd><dt>(:template last:)            </dt><dd>  markup output only for the last page in the pagelist
</dd><dt>(:template first {=$Group}:) </dt><dd>  markup output only for a page where the value of {=$Group} has just changed
</dd><dt>(:template last {=$Group}:)  </dt><dd>  markup output only for a page where the value of {=$Group} will change with the next page
</dd></dl><p class='vspace'>So, we have:
</p>
<div class='vspace'></div><div class='indent'><pre class='escaped'>[[#template]]
(:template defaults order=name:)
(:template first:)
Pages ordered by group
(:template first {=$Group}:)

Pages in group [[{=$Group}/]]
(:template each:)
* [[{=$FullName}]]
(:template last {=$Group}:)
   {=$Group} contains {$$GroupPageCount} pages.
(:template last:)
   {$$PageCount} pages total.
[[#templateend]] </pre>
</div><p class='vspace'><a name='additionalpagevariables' id='additionalpagevariables'></a>
</p><h2>Page list template additional page variables</h2>
<p>Additional <a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/PageVariables'>Page Variables</a> that are only available during pagelist are: 
</p><div class='indent'><pre class='escaped'>
{$$PageCount}       The current page count of this iteration
{$$GroupCount}      The current group count of this iteration
{$$GroupPageCount}  The current page count within the current group of this iteration</pre>
</div><div class='indent'><code>{$$<em>option</em>}          The argument option values from </code><code class='escaped'>(:pagelist:)</code>
</div><p class='vspace'>Use of {$$<em>option</em>}: For example {$$trail} returns the page name entered in the trail= option of the pagelist directive. You can make up custom "options" with no other purpose than being displayed in the pagelist.
</p>
<p class='vspace'><a name='redirect' id='redirect'></a>
</p><h2>Redirect </h2>
<p>To enable searches that return only one page to automatically redirect to that page add the following to a pagelist template where the "jump to a page" functionality is desired:
</p>
<div class='vspace'></div><div class='indent'><pre class='escaped'>(:template last:)
(:if equal {$$PageCount} 1:)(:redirect {=$FullName}:)(:ifend:)
</pre>
</div><p class='vspace'><a name='closure' id='closure'></a>
</p><h2>Closure of markup</h2>
<p>Any open tables, divs, or other
structures inside of (:pagelist:) are, by default, automatically closed at the
end of the pagelist command.  In other words, (:pagelist:) acts like
its own complete page, as opposed to generating markup that is then
inserted into the enclosing page.
</p>
<p class='vspace'>For example a table generated by the (:cell:)
directive in the first (:pagelist:) command is automatically closed
at the end of the pagelist.  The (:cell:) in the second (:pagelist:)
command then starts a new table.
</p>
<p class='vspace'>Note that the (:table:) directive doesn't actually start a new table,
it's the (:cell:) or (:cellnr:) directive that does it.  All that the
(:table:) directive does is set attributes for any tables that follow.
</p>
<div class='vspace'></div><h2>Usage</h2>
<p>It is advisable to not modify the page <a class='wikilink' href='http://sli.ics.uci.edu/Site/PageListTemplates'>Site.PageListTemplates</a> directly so that you will still benefit from upgrades.  
Instead, modify your <a class='createlinktext' rel='nofollow'
    href='http://sli.ics.uci.edu/Site/LocalTemplates?action=edit'>Site.LocalTemplates</a><a rel='nofollow' 
    class='createlink' href='http://sli.ics.uci.edu/Site/LocalTemplates?action=edit'>?</a> page (which is not part of the PmWiki distribution).  <a class='urllink' href='http://www.pmwiki.org/wiki/Cookbook/PagelistTemplateSamples' rel='nofollow'>Cookbook:PagelistTemplateSamples</a> has many examples of custom pagelist formats.
</p>
<div class='vspace'></div><h2>Other recipes</h2>
<p>In addition, the <a class='urllink' href='http://www.pmwiki.org/wiki/Cookbook/Cookbook' rel='nofollow'>Cookbook</a> has other recipes for special <code class='escaped'>fmt=</code> options, including <a class='urllink' href='http://www.pmwiki.org/wiki/Cookbook/DictIndex' rel='nofollow'><code class='escaped'>fmt=dictindex</code></a> (alphabetical index) and <a class='urllink' href='http://www.pmwiki.org/wiki/Cookbook/SimpleForum' rel='nofollow'><code class='escaped'>fmt=forum</code></a> (forum postings).
 
<a name='trailend' id='trailend'></a>
<br clear='all' />
</p><div  style='background-color: #ffe; border-top: 1px solid black; font-size: .8em;' > 
<p>This page may have <span class='commentout-pmwikiorg'> a more recent version on <a class='urllink' href='http://www.pmwiki.org' rel='nofollow'>pmwiki.org</a>: <a class='urllink' href='http://www.pmwiki.org/wiki/PmWiki/PageListTemplates' rel='nofollow'>PmWiki:PageListTemplates</a>, and </span> a talk page: <a class='urllink' href='http://www.pmwiki.org/wiki/PmWiki/PageListTemplates-Talk' rel='nofollow'>PmWiki:PageListTemplates-Talk</a>.
</p></div>
</div>

      </td>
    </tr></table>
<!--PageFooterFmt-->
  <div id='wikifoot'>
    <div class='footnav' style='float:left'> Last modified January 16, 2015, at 07:46 PM</div>
    <div class='footnav' style='float:right; text-align:right'>
    <a href="http://www.ics.uci.edu">Bren School of Information and Computer Science</a><br>
    <a href="http://www.uci.edu">University of California, Irvine</a>
    </div>
  </div>
<!--HTMLFooter--><script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(["_setAccount", "UA-24148957-2"]);
	_gaq.push(["_trackPageview"]);
	(function() {
	  var ga = document.createElement("script"); ga.type = "text/javascript"; ga.async = true;
	  ga.src = ("https:" == document.location.protocol ? "https://ssl" : "http://www") + ".google-analytics.com/ga.js";
	  var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(ga, s);
	  })();
</script>
</body>
</html>
