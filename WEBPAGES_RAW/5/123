<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="robots" content="index,nofollow">

<title>HelpOnUpdating - GraphModAlg@UCI</title>
<script type="text/javascript" src="/moin_static163/common/js/common.js"></script>

<script type="text/javascript">
<!--
var search_hint = "Search";
//-->
</script>


<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/moin_static163/rightsidebar/css/common.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen" href="/moin_static163/rightsidebar/css/screen.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="print" href="/moin_static163/rightsidebar/css/print.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="projection" href="/moin_static163/rightsidebar/css/projection.css">

<!-- css only for MS IE6/IE7 browsers -->
<!--[if lt IE 8]>
   <link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/moin_static163/rightsidebar/css/msie.css">
<![endif]-->


<link rel="alternate" title="GraphModAlg@UCI: HelpOnUpdating" href="/group/HelpOnUpdating?diffs=1&amp;show_att=1&amp;action=rss_rc&amp;unique=0&amp;page=HelpOnUpdating&amp;ddiffs=1" type="application/rss+xml">


<link rel="Start" href="/group/Main_Page">
<link rel="Alternate" title="Wiki Markup" href="/group/HelpOnUpdating?action=raw">
<link rel="Alternate" media="print" title="Print View" href="/group/HelpOnUpdating?action=print">
<link rel="Search" href="/group/FindPage">
<link rel="Index" href="/group/TitleIndex">
<link rel="Glossary" href="/group/WordIndex">
<link rel="Help" href="/group/HelpOnFormatting">
</head>

<body  lang="en" dir="ltr">

<div id="header">

<form id="searchform" method="get" action="/group/HelpOnUpdating">
<div>
<input type="hidden" name="action" value="fullsearch">
<input type="hidden" name="context" value="180">
<label for="searchinput">Search:</label>
<input id="searchinput" type="text" name="value" value="" size="20"
    onfocus="searchFocus(this)" onblur="searchBlur(this)"
    onkeyup="searchChange(this)" onchange="searchChange(this)" alt="Search">
<input id="titlesearch" name="titlesearch" type="submit"
    value="Titles" alt="Search Titles">
<input id="fullsearch" name="fullsearch" type="submit"
    value="Text" alt="Search Full Text">
</div>
</form>
<script type="text/javascript">
<!--// Initialize search form
var f = document.getElementById('searchform');
f.getElementsByTagName('label')[0].style.display = 'none';
var e = document.getElementById('searchinput');
searchChange(e);
searchBlur(e);
//-->
</script>

<div id="logo"><a href="/group/Main_Page"><img src="/moin_static163/common/moinmoin.png" alt="MoinMoin Logo"></a></div>
<div id="locationline">


<ul id="pagelocation">
<li><a class="backlink" href="/group/HelpOnUpdating?action=fullsearch&amp;context=180&amp;value=linkto%3A%22HelpOnUpdating%22" rel="nofollow" title="Click to do a full-text search for this title">HelpOnUpdating</a></li>
</ul>

</div>

</div>

<div id="sidebar">
<div class="sidepanel">
<h1>Wiki</h1>

<ul id="navibar">
<li class="wikilink"><a href="/group/Main_Page">Main_Page</a></li><li class="wikilink"><a href="/group/RecentChanges">RecentChanges</a></li><li class="wikilink"><a href="/group/FindPage">FindPage</a></li><li class="wikilink"><a href="/group/HelpContents">HelpContents</a></li><li class="current"><a href="/group/HelpOnUpdating">HelpOnUpdating</a></li>
</ul>

</div>
<div class="sidepanel">
<h1>Page</h1>
<ul class="editbar"><li><span class="disabled">Immutable Page</span></li><li class="toggleCommentsButton" style="display:none;"><a href="#" class="nbcomment" onClick="toggleComments();return false;">Comments</a></li><li><a class="nbinfo" href="/group/HelpOnUpdating?action=info" rel="nofollow">Info</a></li><li><a class="nbattachments" href="/group/HelpOnUpdating?action=AttachFile" rel="nofollow">Attachments</a></li><li>
<form class="actionsmenu" method="GET" action="/group/HelpOnUpdating">
<div>
    <label>More Actions:</label>
    <select name="action"
        onchange="if ((this.selectedIndex != 0) &&
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="raw">Raw Text</option>
<option value="print">Print View</option>
<option value="RenderAsDocbook">Render as Docbook</option>
<option value="refresh">Delete Cache</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="SpellCheck">Check Spelling</option>
<option value="LikePages">Like Pages</option>
<option value="LocalSiteMap">Local Site Map</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="RenamePage" disabled class="disabled">Rename Page</option>
<option value="DeletePage" disabled class="disabled">Delete Page</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Subscribe User</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Remove Spam</option>
<option value="show" disabled class="disabled">Revert to this revision</option>
<option value="PackagePages">Package Pages</option>
<option value="SyncPages">Sync Pages</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="Load">Load</option>
<option value="Save">Save</option>
<option value="SlideShow">SlideShow</option>
    </select>
    <input type="submit" value="Do">
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script>
</form>
</li></ul>

</div>
<div class="sidepanel">
<h1>User</h1>
<ul id="username"><li><a href="/group/HelpOnUpdating?action=login" id="login" rel="nofollow">Login</a></li></ul>
</div>
</div>

<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><span class="anchor" id="line-2"></span><span class="anchor" id="line-3"></span><span class="anchor" id="line-4"></span><span class="anchor" id="line-5"></span><span class="anchor" id="line-6"></span><span class="anchor" id="line-7"></span><span class="anchor" id="line-8"></span><p class="line867"><a href="/group/HelpContents">HelpContents</a> &gt; <a href="/group/HelpOnAdministration">HelpOnAdministration</a> &gt; HelpOnUpdating  <span class="anchor" id="line-9"></span><span class="anchor" id="line-10"></span><p class="line867"><strong>Index</strong> <span class="anchor" id="line-11"></span><div class="table-of-contents"><p class="table-of-contents-heading">Contents<ol><li>
<a href="#General_procedures">General procedures</a><ol><li>
<a href="#Download_and_unpack_the_new_MoinMoin_archive">Download and unpack the new MoinMoin archive</a></li><li>
<a href="#Reading_the_docs">Reading the docs</a></li><li>
<a href="#Backup">Backup</a></li><li>
<a href="#Code_update">Code update</a></li><li>
<a href="#Configuration_update">Configuration update</a></li><li>
<a href="#Static_stuff_update">Static stuff update</a></li><li>
<a href="#Wiki_pages_update">Wiki pages update</a><ol><li>
<a href="#System_and_Help_pages">System and Help pages</a></li><li>
<a href="#Your_valuable_own_pages">Your valuable own pages</a></li></ol></li><li>
<a href="#Troubleshooting">Troubleshooting</a></li></ol></li></ol></li></ol></div> <span class="anchor" id="line-12"></span><span class="anchor" id="line-13"></span><p class="line867">
<h2 id="General_procedures">General procedures</h2>
<span class="anchor" id="line-14"></span><p class="line867">
<h3 id="Download_and_unpack_the_new_MoinMoin_archive">Download and unpack the new MoinMoin archive</h3>
<span class="anchor" id="line-15"></span><p class="line862">Download the <a href="/group/MoinMoin">MoinMoin</a> code that you are interested in updating to. If you are not a developper, this is usually the latest released version from the project homepage. <span class="anchor" id="line-16"></span><span class="anchor" id="line-17"></span><p class="line867"><img alt="(!)" height="15" src="/moin_static163/rightsidebar/img/idea.png" title="(!)" width="15" /> Often it is better (and easy enough) to install <em>latest</em> release from distribution archive than relying on some outdated package provided by your Linux distribution. <span class="anchor" id="line-18"></span><span class="anchor" id="line-19"></span><p class="line867">
<h3 id="Reading_the_docs">Reading the docs</h3>
<span class="anchor" id="line-20"></span><p class="line862">Please read the files <tt class="backtick">docs/CHANGES</tt> and <tt class="backtick">docs/README.migration</tt> contained in the moin distribution archive for details on what changed and how to upgrade. <span class="anchor" id="line-21"></span><span class="anchor" id="line-22"></span><p class="line867"><img alt="/!\" height="15" src="/moin_static163/rightsidebar/img/alert.png" title="/!\" width="15" /> The docs might contain import installation, compatibility and upgrade hints we won't repeat here. <span class="anchor" id="line-23"></span><span class="anchor" id="line-24"></span><p class="line867">
<h3 id="Backup">Backup</h3>
<span class="anchor" id="line-25"></span><span class="anchor" id="line-26"></span><p class="line867"><img alt="/!\" height="15" src="/moin_static163/rightsidebar/img/alert.png" title="/!\" width="15" /> <strong>Before you update an existing wiki, MAKE A BACKUP!</strong> <span class="anchor" id="line-27"></span><span class="anchor" id="line-28"></span><p class="line862">You have been warned, and it's not our fault when you end up like this: <img alt="X-(" height="15" src="/moin_static163/rightsidebar/img/angry.png" title="X-(" width="15" />  <span class="anchor" id="line-29"></span><span class="anchor" id="line-30"></span><p class="line862">As you want to make a <em>complete</em> backup (not even losing a single edit), you want to stop your wiki server process now. <span class="anchor" id="line-31"></span><span class="anchor" id="line-32"></span><p class="line874">There are two directory trees which you should backup: <span class="anchor" id="line-33"></span><span class="anchor" id="line-34"></span><ul><li><p class="line862">The one containing the <a href="/group/MoinMoin">MoinMoin</a> code files (e.g. <tt>/usr/lib/python*.*/site-packages/MoinMoin</tt>) <span class="anchor" id="line-35"></span><ul><li><p class="line891"><img alt="(!)" height="15" src="/moin_static163/rightsidebar/img/idea.png" title="(!)" width="15" /> after you have a backup of this, you might want to delete the <tt class="backtick">MoinMoin</tt> directory there to avoid having old code files there that are not overwritten by the new code, but maybe interferring with it) <span class="anchor" id="line-36"></span></li></ul></li><li><p class="line862">The one containing your data (e.g. <tt>/usr/share/moin/wikiname/data</tt> - see data_dir in your moin_config.py).  <span class="anchor" id="line-37"></span><span class="anchor" id="line-38"></span></li></ul><p class="line874">The real paths depend on your installation. <span class="anchor" id="line-39"></span><span class="anchor" id="line-40"></span><p class="line874">You also need to backup: <span class="anchor" id="line-41"></span><ul><li>your moin.cgi file (or moin.fcg or other adaptor file you use) <span class="anchor" id="line-42"></span></li><li>your wikiconfig.py or farmconfig.py or other wiki configuration files <span class="anchor" id="line-43"></span></li><li>your web server configuration files <span class="anchor" id="line-44"></span><span class="anchor" id="line-45"></span></li></ul><p class="line867">
<h3 id="Code_update">Code update</h3>
<span class="anchor" id="line-46"></span><p class="line862">If you are installing from the original distribution archive, run "<tt>python&nbsp;setup.py&nbsp;install</tt>" as root to install the new version. <span class="anchor" id="line-47"></span><span class="anchor" id="line-48"></span><p class="line874">If you are using some Linux (or other) distributor's package, please read their docs. <span class="anchor" id="line-49"></span><span class="anchor" id="line-50"></span><p class="line874">If CHANGES tells you, you maybe also need to upgrade your moin.cgi (or moin.fcg or other adaptor) file. You maybe need to set some specific user/group/mode on that file (just look at the old one before replacing it). <span class="anchor" id="line-51"></span><span class="anchor" id="line-52"></span><p class="line867">
<h3 id="Configuration_update">Configuration update</h3>
<span class="anchor" id="line-53"></span><span class="anchor" id="line-54"></span><p class="line874">After upgrading, your existing wiki should continue to work (the goal is to have sane defaults for any new config values, but then there can be bugs). <span class="anchor" id="line-55"></span><span class="anchor" id="line-56"></span><p class="line862">Check that this is indeed the case, and then take the time to check the CHANGES file in your distribution archive. Often, new features will be invisible unless you extend your configuration in <tt class="backtick">wikiconfig.py</tt> (1.3+) or <tt class="backtick">moin_config.py</tt> (&lt;=1.2.x). <span class="anchor" id="line-57"></span><span class="anchor" id="line-58"></span><p class="line862">Check that you have the latest "intermap.txt" file; If you have your own entries, you can point "shared_intermap" at a file loaded <em>before</em> the file in your data directory, which takes precedence (i.e. have global entries in the shared one, private entries the data dir file). <span class="anchor" id="line-59"></span><span class="anchor" id="line-60"></span><p class="line867">
<h3 id="Static_stuff_update">Static stuff update</h3>
<span class="anchor" id="line-61"></span><span class="anchor" id="line-62"></span><p class="line874">On every update, you should copy the content of the "wiki/htdocs/" directory we provide to the directory visible to your web server, normally a new release has some new images, CSS and Javascript in it. <span class="anchor" id="line-63"></span><span class="anchor" id="line-64"></span><p class="line862">You also have to change your web server / directory setup to match the <tt class="backtick">url_prefix_static</tt> setting of moin. Starting with moin 1.6, this defaults to <tt class="backtick">/moin_staticVVV</tt> (VVV is 160 for moin release 1.6.0) and the default will change on every release (moin 1.6.1 will use <tt class="backtick">/moin_static161</tt> by default). This is done to be able to use a very long cache lifetime for the static stuff, so your wiki will be faster and cause less load and traffic. <span class="anchor" id="line-65"></span><span class="anchor" id="line-66"></span><p class="line867">
<h3 id="Wiki_pages_update">Wiki pages update</h3>
<span class="anchor" id="line-67"></span><p class="line867">
<h4 id="System_and_Help_pages">System and Help pages</h4>
<span class="anchor" id="line-68"></span><p class="line862">Since moin 1.3, system and help pages are separated in the <tt class="backtick">underlay</tt> directory. Just use the fresh underlay directory we provide in the distribution archive (and throw away the old one). <span class="anchor" id="line-69"></span><span class="anchor" id="line-70"></span><p class="line874">For pre-1.3 procedure, please see CHANGES file. <span class="anchor" id="line-71"></span><span class="anchor" id="line-72"></span><p class="line867">
<h4 id="Your_valuable_own_pages">Your valuable own pages</h4>
<span class="anchor" id="line-73"></span><p class="line862">See CHANGES and README.migration for maybe necessary steps to convert your <tt class="backtick">data_dir</tt> to what we expect. <span class="anchor" id="line-74"></span><span class="anchor" id="line-75"></span><p class="line867">
<h3 id="Troubleshooting">Troubleshooting</h3>
<span class="anchor" id="line-76"></span><span class="anchor" id="line-77"></span><p class="line874">A good idea is to do a request for "...?action=test" (which calls an internal diagnosis feature) after you installed a new release, which will spot some common errors. If one of the tests fails, don't panic, but see CHANGES if it is a known effect. <span class="anchor" id="line-78"></span><span class="anchor" id="line-79"></span><p class="line862">Depending on your installation, more tightly secured permissions are a good idea. Ideally, you assign all files in the data directory to the user the web server runs under, and then you use <tt class="backtick">700</tt> or <tt class="backtick">770</tt> - see also the <tt class="backtick">config.umask</tt> setting. <span class="anchor" id="line-80"></span><span class="anchor" id="bottom"></span></div>
<div id="pagebottom"></div>
</div>


<div id="footer">
<ul id="credits">
<li><a href="http://moinmo.in/" title="This site uses the MoinMoin Wiki software.">MoinMoin Powered</a></li><li><a href="http://moinmo.in/Python" title="MoinMoin is written in Python.">Python Powered</a></li><li><a href="http://moinmo.in/GPL" title="MoinMoin is GPL licensed.">GPL licensed</a></li><li><a href="http://validator.w3.org/check?uri=referer" title="Click here to validate this page.">Valid HTML 4.01</a></li>
</ul>


</div>
</body>
</html>

