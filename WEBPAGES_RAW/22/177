<html xmlns="http://www.w3.org/1999/xhtml">
<head>
                <title>ics grid computing @ the bren school of information and computer sciences</title>
                
                
                <meta content="Mon, 14 Apr 2014 11:01:52 -0380" name="date"/>
                
<link href="../bin/styles/stylesheet_nosidebar.css" rel="stylesheet" type="text/css"/>
<script language="JavaScript">
<!-- 
function clear_textbox()
{
if (document.searchform.q.value == "Search ICS")
document.searchform.q.value = "";
} 
-->
</script>
</head>
<body>

<div id="wrapper">
<script type="text/javascript">

sfHover = function() {
    var sfEls = document.getElementById("navcontainer").getElementsByTagName("LI");
    for (var i=0; i<sfEls.length; i++) 
    {
        sfEls[i].onmouseover=function()
        {
            this.className+=" sfhover";
        }
        
        sfEls[i].onmouseout=function() 
        {
            this.className=this.className.replace(new RegExp(" sfhover\\b"), "");
        }
    }
}

if (window.attachEvent) window.attachEvent("onload", sfHover);

</script>


<div id="header" title="Welcome to the Donald Bren School of Information and Computer Sciences @ UC Irvine">

    <a id="bren_link" href="/"></a>

        <a id="uci_link" href="http://www.uci.edu/"></a>

</div>


    <div CLASS="newbar"><p style="line-height: 0px; display: none; "></p></div>

    
<div id="navcontainer">


<ul>

<li>

    <a href='/computing/account/' title='account'>&raquo; Account</a>

    <ul>
    <li><a href="/computing/account/new.php">&raquo; New User Guide</a></li>
    <li><a href="/computing/account/activate.php">&raquo; Activation</a></li>
    <li><a href="/computing/account/password.php">&raquo; Password Change/Reset</a></li>
    <li><a href="/computing/account/quota.php">&raquo; Quota</a></li>
    <li><a href="/computing/account/renewal.php">&raquo; Renewal</a></li>
    <li><a href='#'>&raquo; Mapping Network Drive</a>
      <ul>
      <li><a href="/computing/account/mapdrive_win.php">&raquo; Windows</a></li>
      <li><a href="/computing/account/mapdrive_mac.php">&raquo; Mac</a></li>
      </ul></li>
    <li><a href="/computing/account/faqs.php">&raquo; FAQs</a></li>     
    </ul>
</li>

<li>

    <a href='/computing/email/' title='e-mail'>&raquo; E-mail</a>

    <ul>
    <li><a href="/computing/email/google_apps.php">&raquo; ICS Google Mail</a></li>
    <li><a href="/computing/email/delivery_point.php">&raquo; Specify Delivery Point</a></li>
    <li><a href="http://webmail.ics.uci.edu">&raquo; Webmail</a></li>
    <li><a href="/computing/email/thunderbird_Gmail.php">&raquo; Thunderbird for ICS Gmail</a></li>
    <li><a href="/computing/email/thunderbird_setup.php">&raquo; Thunderbird</a></li>
    <li><a href="/computing/email/">&raquo; Mailing Lists</a></li>
    <li><a href="/computing/email/mailboss.php">&raquo; Forwarding/Vacation/Spam Settings</a></li>
    <li><a href="/computing/email/">&raquo; Email Servers Information</a></li>
    <li><a href="/computing/email/group_email.php">&raquo; Checking Group Account Email</a></li>
    </ul>
</li>

<li>

    <a href='/computing/network/' title='network'>&raquo; Network</a>

    <ul>
    <li><a href="http://www.oit.uci.edu/mobile/">&raquo; UCInet Mobile</a></li>
    <li><a href="http://www.oit.uci.edu/security/vpn/">&raquo; VPN</a></li>
    <li><a href="https://netreg.ics.uci.edu/">&raquo; ICS Netreg</a></li>
    <li><a href="http://weather.uci.edu/">&raquo; UCI Weather Report</a></li>
    <li><a href="/computing/network/">&raquo; Open Port Request</a></li>
    </ul>
</li>

<li>

    <a href='#' title='linux'>&raquo; Linux</a>
    
    <ul>
    <li><a href="/computing/linux/hosts.php">&raquo; ICS hosts</a></li>
    <li><a href="/computing/linux/shell.php">&raquo; Changing shell</a></li>
    <li><a href="/computing/linux/modules.php">&raquo; Using modules</a></li>
    <li><a href="/computing/linux/security.php">&raquo; Security</a></li>
    <li><a href="/computing/linux/gsu.php">&raquo; Group account access (gsu)</a></li>
    <li><a href="/computing/linux/sge.php">&raquo; Sun Grid Engine</a></li>
        </ul>
</li>

<li>

    <a href='#' title='services'>&raquo; Other Services</a>

    <ul>
    <li><a href="http://www.ics.uci.edu/~lab">&raquo; Labs</a></li>
    <li><a href="/computing/services/printing.php">&raquo; Printing</a></li>
    <li><a href="/computing/services/msoffice.php">&raquo; Activate MS Office</a></li>
    <li><a href='#'>&raquo; Sophos</a>
      <ul>
      <li><a href="/computing/services/sophos_win.php">&raquo; Windows</a></li>
      <li><a href="/computing/services/sophos_mac.php">&raquo; Mac</a></li>
      </ul></li>    
    <li><a href="/computing/services/microsoft_imagine.php">&raquo; Microsoft Imagine</a></li>
    <li><a href='#'>&raquo; File Restore</a>
      <ul>
      <li><a href="/computing/services/snapshot.php">&raquo; Self-restore snapshot</a></li>
      <li><a href="/computing/services/restore.php">&raquo; Restore request</a></li>
      </ul></li>
      <li><a href="/computing/quarterlyAnnouncement/index.php">&raquo; Quarterly announcements</a></li>
    </ul>   
</li>

<li> 

    <a href='#' title='web'>&raquo; Web</a>
    
    <ul>
    <li><a href="/computing/web/personalpage.php">&raquo; Personal Webpage</a></li>
    <li><a href="/computing/web/faqs.php">&raquo; General Information</a></li>
    </ul>   
</li>

<li>

    <a href='/computing/policy/' title='contact'>&raquo; Policies</a>
    
    <ul>
    <li><a href="/computing/policy/ethics.php">&raquo; Ethics</a></li>
    <li><a href="/computing/policy/ethics_summary.php">&raquo; Ethics Summary</a></li>
    </ul>
</li>

<li>

    <a href='/computing/contact/' title='contact'>&raquo; Contact</a>
    
    <ul>
    <li><a href="/computing/contact/helpdesk.php">&raquo; Helpdesk</a></li>
    <li><a href="/computing/contact/staff.php">&raquo; Support Staff</a></li>
    <li><a href="/computing/contact/who.php">&raquo; Who To Contact</a></li>
    </ul>
</li>

</ul>

<style type="text/css">@import url("/bin/icssearchstyle/css/icssearch.css");</style>
<script src="/bin/icssearchstyle/js/icssearch.js" type="text/javascript"></script>
<script src="/bin/icssearchstyle/js/icssearchform.js" type="text/javascript"></script>

</div><div id="content"><a id="startcontent" name="startcontent"></a>  
<div id="content_title">ICS Grid Computing</div>

<blockquote>
<div id="content_text">

<h3>What is the ICS grid?</h3>
<p>The ICS grid contains groups of both public and research distributed computing clusters. These clusters are unified by the Sun Grid Engine (SGE) where jobs are submitted, scheduled, and dispatched according to available resources. Jobs may embed requests for certain types of resources or these can be requested at time of submission. Your job will be queued and dispatched when the appropriate resources are available.</p>
<p>Research clusters are owned by various faculty members and have dedicated nodes to run their computing jobs. Trying to submit jobs directly to these clusters will result in jobs being rejected or access being denied unless appropriate permissions are previously granted. The ICS grid also has public clusters for general use. These have wall clock limits so that the general public may have a turn on the grid. Below is a listing of the public queues.</p>
<div>
<table border="1" cellpadding="1" cellspacing="2" class="text" id="wc9s" style="border: 1px solid #000000; width: 80%; text-align: left; margin-left: auto; margin-right: auto;" summary="Public Queues Table">
<tbody>
<tr>
<td><span style="text-decoration: underline;">Public Queue</span></td>
<td><span style="text-decoration: underline;">OS</span></td>
<td><span style="text-decoration: underline;">Runtime Limit</span></td>
<td><span style="text-decoration: underline;">Slots</span></td>
</tr>
<tr>
<td>12hour.q</td>
<td>CentOS 6 (RHEL 6) x86_64</td>
<td>12 hours</td>
<td>48</td>
</tr>
<tr>
<td>15day.q</td>
<td>CentOS 6 (RHEL 6) x86_64</td>
<td>15 days</td>
<td>48</td>
</tr>
</tbody>
</table>
</div>
<p>For a list of all queues you can query SGE:</p>
<pre>$ qconf -sql</pre>
<p>To get details on a particular queue, such as time, nodes, access, etc.:</p>
<pre>$ qconf -sq 12hour.q</pre>
<p>&#160;</p>
<h3>How do I request an account?</h3>
<p>All ICS accounts can access the public queues. Contact <a href="../contact/helpdesk.php">helpdesk</a> in order to get access to research queues.</p>
<p>&#160;</p>
<h3>How do I access my account?</h3>
<p>Linux/Solaris/MacOS:</p>
<p>To access the grid simply login via ssh since these systems have ssh installed by default.</p>
<pre>$ ssh -Y icsusername@openlab.ics.uci.edu<br/></pre>
<p>Windows:</p>
<p>On Windows, use the free PuTTY application or one of these alternatives. Telnet access is NOT available. If you use ssh without the -Y or -X option, you will not be able to view X11 graphics.</p>
<p>&#160;</p>
<h3>I am logged in, now what?</h3>
<p>Once you are logged in, you have access to a shell for which you can access ICS computing resources such as our software stack along with the grid. In order to access these, you must know a few commands before you begin.&#160;</p>
<pre>$ module load sge</pre>
<p>Let's go over the command above. The module command allows you to load specific software applications out of the software stack. In this case, the application is SGE. This will setup essential environment variables in order to run the commands provided by sge. You may edit your shell rc files to automatically load sge if that is your primary use or even if you find it convenient so you do not have to run it at every login. There are no additional resources taken up if you decide not to use it even with the module loaded as the command will only modify your environment variables.</p>
<p>For more on modules and our software stack, please visit our <a href="modules.php">module page</a>.</p>
<p>&#160;</p>
<h3>I loaded SGE, what commands can I run?</h3>
<p>For starters, the first command to get accustomed to is qstat. If you run qstat alone, you will see nothing for the first time because by default it displays the status for submitted jobs. To get a full listing run:</p>
<pre>$ qstat -f<br/></pre>
<p>Once you submit a job, you will be given a job id to track the detail of job completion.</p>
<pre>$ qstat -j &#171;job_id&#187;</pre>
<p>This command will give you better detail as to why your job is sitting in the queue waiting to be dispatched. Resources may be busy, so you will have to wait and sit tight. If your job sits in the queue for too long, especially in our 12-hour or 15-day-long public queues, please email <a href="../contact/helpdesk.php">helpdesk</a>&#160;to assist you in looking at the queues more thoroughly.</p>
<p>You can also delete a job using its id number.</p>
<pre>$ qdel &#171;job_id&#187;</pre>
<p>Now, let's submit your first job! The simple method is to not request any particular resource constraints, such as memory, platform, or SGE queues.</p>
<pre>$ qsub /auto/sge-6.2u5/examples/jobs/sleeper.sh<br/></pre>
<p>This simple script, once dispatched, will run on an SGE selected host and sleep for a given number of seconds. This exciting script is used to test that the basic SGE scheduling is working. It is a good idea to test and run it at times when your custom scripts and/or applications refuse to run. You can test particular SGE queues by specifying a queue request during submission, as follows:</p>
<pre>$ qsub -q 12hour.q /auto/sge-6.2u5/examples/jobs/sleeper.sh<br/></pre>
<p>There are various requests that can be made. You can read about them in the&#160;<a href="http://gridscheduler.sourceforge.net/htmlman/manuals.html" title="Man Pages">man pages</a>. The usage page is a valuable resource for your routine tasks of using the grid more effectively.&#160;For example, you may use job arrays for scenarios that require running several identical jobs which will work on different datasets. You would submit a job array of an appropriate size to do that. Otherwise, we would bombard the scheduler with hundreds of thousands of jobs. &#160;This could result in bringing down the scheduler and you explaining to your colleagues that you single-handedly brought SGE down as they are on a deadline.</p>
<p>&#160;</p>
<h3>How do I get files/scripts to and from my account?</h3>
<p>For systems managed by Computing Support, you will find that your UNIX home directory has already been mounted via NFS. All of our nodes on the grid automount your home directories as well as our software stack mentioned above via the use of modules. If this is your case, then you are already off on the right foot and have it easy when it comes to transporting files to and from your ICS account for use on the grid.</p>
<p>For systems not managed by ICS, the easiest way of transporting files is using secure copy, i.e. scp. Besides the command line scp utility bundled with all Linux, Solaris, and Mac hosts, there are GUI clients for MacOS and Windows, and of course, Linux. If you have large collections of files or large individual files that change only partially, you might be interested in using rsync as well.</p>
<p>For Windows users, we recommend the free WinSCP application, which gives you a graphical interface for SCP, SFTP, and FTP. Machines within the Windows UCI-ICS domain will already have their H: drive mounted, so you can just drag and drop directly to your home directory.</p>
<p>For Mac OS X users, we recommend the free, though oddly named, Cyberduck application, which provides graphical file browsing via FTP, SCP, SFTP, WebDAV, and even Amazon S3(!). Macs also have access to your UNIX home directory, so you can easily drag and drop files.</p>
<p>For Linux and Solaris users, we recommend utilizing the built-in capabilities of KDE's Swiss-army-knife browser Konqueror or twin-panel file manager Krusader. Both support the secure file browser kio-plugin called fish. Advanced users should read the document <a href="http://moo.nac.uci.edu/%7ehjm/HOWTO_move_data.html" title="How to Move Data">How to Move Data</a>, which discusses in detail how to transfer large amounts of data over the network. Again if you have a Linux or Solaris install from ICS, you will have your home directory mounted and accessible from your desktop.</p>
<p>&#160;</p>
<h3>How do I use the grid?</h3>
<p>There are basically two good uses for SGE. The Sun Grid Engine scheduler controls all the access to the grid's computing nodes. All jobs must use the qsub or qrsh commands, which submit jobs to the grid in an orderly fashion. There are policies in place to prevent a single user from dominating the machine by flooding the queue with jobs, particularly a 12-hour and 14-day wallclock limit&#160;for longer jobs on our public queues. THIS SYSTEM IS NOT FOOLPROOF. Please be courteous and run as few simultaneous jobs as possible, particularly if you notice that there is a lot of usage (with the qstat command).</p>
<p>You can check the status of the batch queue backlog using the qstat and qhost commands. For more information see the section on Monitoring and Controlling Jobs from the wiki.</p>
<p>Send email to helpdesk@ics.uci.edu if you have complaints about your job turnaround or if you need special scheduling considerations to meet a project deadline.</p>
<p><strong>Batch submission</strong></p>
<p>Use the qsub command to submit a job script to the grid. A job script consists of UNIX directives, comments, and executable statements. It is important to remember that all the commands in the job script execute serially on the node that runs your script.</p>
<p><strong>TIP:</strong>&#160;When your script begins execution the working directory is your home directory. Use the -cwd option with qsub to use the current working directory (wherever you currently are). Output and error will be directed wherever you happen to be, allowing for a cleaner environment. Otherwise stdout and stderr go to your home directory.</p>
<p>SGE provides an abundant number of examples for you to start out with. You can find them located at $SGE_ROOT/examples, or just Google "SGE examples" and you will have plenty of references.</p>
<p>There are several things to look out for when using batch submissions.</p>
<ul>
<li>Submitting a large set of jobs. This has the affect of saturating the scheduler to a crawl and at times making it inaccessible to you and&#160;everyone else on the grid. The best solution is to use job arrays.</li>
<li>If you chain jobs, remember to check the status of the previous job before spawning another qsub. This will prevent the system from flooding the scheduler with failed jobs.</li>
<li>Remember that for your convenience we automounted your home directory along with our software stack. Please be aware that if you flood the scheduler with jobs that mount a software stack or access data from your home directory, your scripts will fail trying to look up a file or directory. If you encounter this, please make sure to make create more robust scripts by adding random timers or give the lookup some time to return your mounts.</li>
</ul>
<p><strong>Interactive</strong></p>
<p>The submission of interactive jobs instead of batch jobs is useful in situations where a job requires your direct input to influence the job results. Such situations are typical for X Windows applications or for tasks in which your interpretation of immediate results is required to steer further processing.</p>
<p>You can create interactive jobs in three ways:</p>
<ol>
<li>qlogin &#8211; An rlogin-like session that is started on a host selected by the Grid Engine software.</li>
<li>qrsh &#8211; The equivalent of the standard UNIX rsh facility. A command is executed remotely on a host selected by the Grid Engine system. If no command is specified, a remote rlogin session is started on a remote host.</li>
<li>qsh &#8211; An xterm that is displayed from the machine that is running the job. The display is set corresponding to your specification or to the setting of the DISPLAY environment variable. If the DISPLAY variable is not set, and if no display destination is defined, the Grid Engine system directs the xterm to the 0.0 screen of the X server on the host from which the job was submitted.</li>
</ol>
<p>The default handling of interactive jobs differs from the handling of batch jobs. Interactive jobs are not queued if the jobs cannot be executed when they are submitted. When a job is not queued immediately, the user is notified that the cluster is currently too busy.</p>
<p>You can change this default behavior with the -now no option to qsh, qlogin, and qrsh. If you use this option, interactive jobs are queued like batch jobs. When you use the -now yes option, batch jobs that are submitted with qsub can also be handled like interactive jobs. Such batch jobs are either dispatched for running immediately, or they are rejected.</p>
<p>&#160;</p>
<h3>Where can I get more information on grid computing?</h3>
<p>The best resource is always the <a href="http://gridscheduler.sourceforge.net/htmlman/manuals.html" title="Man Pages">user documentation</a>. Your peers are the next best source since they may already have experience using the grid for what may be the very purpose you might need.</p>
<p>&#160;</p>
<h3>Where do I report problems?</h3>
<p>Please contact <a href="../contact/helpdesk.php">helpdesk</a> if you have problems accessing the grid or if there is a failure beyond normal script logic failures. We are here to make sure that the grid is operational and that you have access so that you can make full use of the grid. When emailing please articulate what problem(s) you are experiencing, what scripts you are trying to run, and how you are submitting them to the grid. Please copy/paste any relevant error messages. This will help us troubleshoot the problem in a timely fashion.</p>


</div>
</blockquote>
</div>
<div id="sidebar"></div>
<div id="footer"><a href="http://www.uci.edu/copyright.php">Copyright Inquiries</a> |
   <a href="http://www.uci.edu/cgi-bin/phonebook">UCI Directory</a> |
   <a href="http://intranet.ics.uci.edu/">Intranet</a> |
   
   <!-- <a href="http://www.ics.uci.edu/sitemap.php">Site Map</a> | -->
 
  <a href="mailto: i%63%73%77%65%62m%61s%74%65r@%69c%73%2e%75c%69%2eedu">icswebmaster</a> |
Updated: 
April 14 2014</div>
</div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-605898-1");
pageTracker._trackPageview();
</script>
</body>
</html>